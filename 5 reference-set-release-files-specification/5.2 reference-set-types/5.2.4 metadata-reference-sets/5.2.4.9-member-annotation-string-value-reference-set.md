# 5.2.4.9 Member Annotation String Value Reference Set

# Purpose

A Member Annotation Refset will be created to support annotations on members of any reference set(s).

The SNOMED CT International Release contains Annotations content in two [reference sets](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference sets"):

  * The [Member Annotation String Value](https://confluence.ihtsdotools.org/display/TRAG/Member+Annotations+String+Value+Reference+Set)[ reference set](http://snomed.info/id/733073007), in which annotations are held on members of any reference set(s).
  * The [Component Annotation String Value](https://confluence.ihtsdotools.org/display/TRAG/Component+Annotations+String+Value+Reference+Set)[ reference set](http://snomed.info/id/733073007), in which annotations are assigned to any SNOMED CT component.

  

# Data Structure

A Member Annotation String Value[ reference set](http://snomed.info/id/733073007) is structured as shown in the following table:

**Field**| **Data type**| **Purpose**| **[Mutable](https://confluence.ihtsdotools.org/display/DOCGLOSS/Mutable "Glossary link: Mutable")**| **Part of Primary Key**  
---|---|---|---|---  
[id](https://confluence.ihtsdotools.org/display/DOCRELFMT/id+\(field\) "Reference term: id \(field\)")| [UUID](https://confluence.ihtsdotools.org/display/DOCRELFMT/UUID+\(data+type\) "Reference term: UUID \(\(data type\)\)")| A 128 bit unsigned [Integer](https://confluence.ihtsdotools.org/display/DOCRELFMT/Integer+\(data+type\) "Reference term: Integer \(\(data type\)\)"), uniquely identifying this [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member").Different versions of a  _reference set member_ share the same [id](https://confluence.ihtsdotools.org/display/DOCRELFMT/id+\(field\) "Reference term: id \(\(field\)\)") but have different [effectiveTime](https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\(field\) "Reference term: effectiveTime \(\(field\)\)"). This allows a  _reference set member_ to be modified or made [inactive](https://confluence.ihtsdotools.org/display/DOCRELFMT/inactive+\(field\) "Reference term: inactive \(field\)") (i.e. removed from the active set) at a specified time.| NO| YES (Full /Snapshot)  
[effectiveTime](https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\(field\) "Reference term: effectiveTime \(field\)")| [Time](https://confluence.ihtsdotools.org/display/DOCRELFMT/Time+\(data+type\) "Reference term: Time \(\(data type\)\)")| The inclusive date or time at which this version of the identified [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") became the current version.**Note** : In distribution files the effectiveTime should follow the short ISO date format (_YYYYMM DD_) and should not include the hours, minutes, seconds or timezone indicator.The current version of this [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") at time  _T_ is the version with the most recent [effectiveTime](https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\(field\) "Reference term: effectiveTime \(\(field\)\)") prior to or equal to time  _T_ .| YES| YES (Full)Optional (Snapshot)   
[active](https://confluence.ihtsdotools.org/display/DOCRELFMT/active+\(field\) "Reference term: active \(field\)")| [Boolean](https://confluence.ihtsdotools.org/display/DOCRELFMT/Boolean+\(data+type\) "Reference term: Boolean \(\(data type\)\)")| The state of the identified [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") as at the specified [effectiveTime](https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\(field\) "Reference term: effectiveTime \(\(field\)\)") .If [active](https://confluence.ihtsdotools.org/display/DOCRELFMT/active+\(field\) "Reference term: active \(\(field\)\)") = 1 (true) the [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") is part of the current version of the set, if [active](https://confluence.ihtsdotools.org/display/DOCRELFMT/active+\(field\) "Reference term: active \(\(field\)\)") = 0 (false) the [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") is not part of the current version of the set.| YES| NO  
[moduleId](https://confluence.ihtsdotools.org/display/DOCRELFMT/moduleId+\(field\) "Reference term: moduleId \(field\)")| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(\(data type\)\)")| Identifies the [SNOMED CT module](https://confluence.ihtsdotools.org/display/DOCGLOSS/SNOMED+CT+module "Glossary link: SNOMED CT module") that contains this [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") as at the specified [effectiveTime](https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\(field\) "Reference term: effectiveTime \(\(field\)\)") .The value must be a [subtype](https://confluence.ihtsdotools.org/display/DOCGLOSS/subtype "Glossary link: subtype") of [900000000000443000 | Module (core metadata concept)|](http://snomed.info/id/900000000000443000) within the metadata [hierarchy](https://confluence.ihtsdotools.org/display/DOCGLOSS/hierarchy "Glossary link: hierarchy").| YES| NO  
[refsetId](https://confluence.ihtsdotools.org/display/DOCRELFMT/refsetId+\(field\) "Reference term: refsetId \(field\)")| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(\(data type\)\)")| Identifies the [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference set") to which this [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") belongs.In this case, a subtype descendant of: 1292995002 | Member annotation with string value reference set (foundation metadata concept) |. | NO| NO  
[referencedComponentId](https://confluence.ihtsdotools.org/display/DOCRELFMT/referencedComponentId+\(field\) "Reference term: referencedComponentId \(field\)")| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(\(data type\)\)")| A reference to the [SNOMED CT component](https://confluence.ihtsdotools.org/display/DOCGLOSS/SNOMED+CT+component "Glossary link: SNOMED CT component") to be included in the [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference set").The [SNOMED CT component](https://confluence.ihtsdotools.org/display/DOCGLOSS/SNOMED+CT+component "Glossary link: SNOMED CT component") to which the Annotation applies. | NO| NO  
[referencedMemberId](https://confluence.ihtsdotools.org/display/DOCRELFMT/referencedMemberId+\(field\) "Reference term: referencedMemberId \(field\)")| [UUID](https://confluence.ihtsdotools.org/display/DOCRELFMT/UUID+\(data+type\) "Reference term: UUID \(\(data type\)\)")| The UUID of the relevant member of the reference set in SNOMED CT.| NO| NO  
  
[languageDialectCode](https://confluence.ihtsdotools.org/display/DOCRELFMT/languageDialectCode+\(field\) "Reference term: languageDialectCode \(field\)")| [String](https://confluence.ihtsdotools.org/display/DOCRELFMT/String+\(data+type\) "Reference term: String \(\(data type\)\)")| Specifies the [language](https://confluence.ihtsdotools.org/display/DOCGLOSS/language "Glossary link: language") of the Annotation text using the two character ISO-639-1 code. Note that this specifies a [language](https://confluence.ihtsdotools.org/display/DOCGLOSS/language "Glossary link: language") level only, not a country code. However, a [dialect](https://confluence.ihtsdotools.org/display/DOCGLOSS/dialect "Glossary link: dialect") can also be included by following the standard [RFC 5646](https://www.rfc-editor.org/info/rfc5646), although this is an _optional_ inclusion. The new concept 1304275002 |Language or dialect code (foundation metadata concept)| has been added for the metadata for this refset.**NOTE:** This field should be blank wherever a language code is not applicable, but never NULL.| YES| NO  
[typeId](https://confluence.ihtsdotools.org/display/DOCRELFMT/typeId+\(field\) "Reference term: typeId \(field\)")| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(\(data type\)\)")| Any descendant of 1295447006 |Annotation attribute (attribute)| minus 1295449009 |Additional relationship attribute (attribute)| and its descendant**** in the attribute hierarchy. | NO| NO  
[value](https://confluence.ihtsdotools.org/display/DOCRELFMT/value+\(field\) "Reference term: value \(field\)")| [S](https://confluence.ihtsdotools.org/pages/viewpage.action?pageId=28739311)tring| The Annotation text itself, with a maximum size of 32Kb, represented in [UTF-8](https://confluence.ihtsdotools.org/display/DOCRELFMT/UTF-8 "Reference term: UTF-8") encoding.| YES| NO  
  
  

# RF2 File naming convention

A Component Annotation String Value[ reference set](http://snomed.info/id/733073007) should be named along the lines of the following convention:

  * der2_sscsRefset_MemberAnnotationStringValueSnapshot__[Product]_ __[date]_.txt

For example, for an International Release on 1st December 2023:

  * der2_sscsRefset_MemberAnnotationStringValueSnapshot_INT_20231201.txt

# Descriptor Template and Examples

The reference set example tables on this page have been revised as follows to aid clarity and understanding:

  * The first four columns which are present in all release files are not shown. The omitted columns ( id, effectiveTime, active) are used in the same way in all referenced sets to support identification, versioning and packaging. They do not directly affect the specific features of a particular reference set or reference set type.
  * Reference set columns that contain SNOMED CT identifiers are expanded to show details of the concept or description referenced by that identifier. In some cases, the term is shown in the same column using the expression syntax, in other cases an additional column with a name suffix '_term' has been added. In the standard reference set files only the identifier is present in the column and there is no added column for the term. When using reference sets, the term and other details of the component are looked up from the relevant component release files.

## Descriptor Template

The table below shows the descriptors that define the structure of the 1292995002 | Member annotation with string value reference set (foundation metadata concept) | pattern and examples of the descriptors for specific reference sets that follow this pattern. 

Table 4-1: Descriptor templates for Member Annotation String Value[ reference set](http://snomed.info/id/733073007)s

**refsetId**| **referencedComponentId**| **attributeDescription**| **attributeType**| **attributeOrder**  
---|---|---|---|---  
[ 900000000000456007 | Reference set descriptor|](http://snomed.info/id/900000000000456007)| 1292995002 | Member annotation with string value reference set (foundation metadata concept) || [900000000000518009 |Annotated component|](http://snomed.info/id/900000000000518009)| 900000000000460005 |Component type (foundation metadata concept)|excluding the postcoordinated expression and rerfset member type components| 0  
[900000000000456007 | Reference set descriptor|](http://snomed.info/id/900000000000456007)| 1292995002 | Member annotation with string value reference set (foundation metadata concept) || 1296891007 |Annotated member (foundation metadata concept)|| 900000000000464001 |Reference set member type component|| 1  
[900000000000456007 | Reference set descriptor|](http://snomed.info/id/900000000000456007)| 1292995002 | Member annotation with string value reference set (foundation metadata concept) || 1304275002 |Language or dialect code (foundation metadata concept)|| 900000000000465000 |String (foundation metadata concept)|| 2  
[900000000000456007 | Reference set descriptor|](http://snomed.info/id/900000000000456007)| 1292995002 | Member annotation with string value reference set (foundation metadata concept) || 1296892000 |Annotation type (foundation metadata concept)|| 900000000000461009 |Concept type component|| 3  
[900000000000456007 | Reference set descriptor|](http://snomed.info/id/900000000000456007)| 1292995002 | Member annotation with string value reference set (foundation metadata concept) || 900000000000519001 |Annotation value|| 900000000000465000 |String (foundation metadata concept)| | 4  
  
## Member Annotation String Value Reference Set Example

Table 4-2: Member Annotation String Value reference set example

The same value of the referencedComponentId from an annotated refset is assigned in the annotation refset. For example, this OWL axiom has a referencedComponentId 91302008 |Sepsis (disorder)| in the OWL expression refset. The annotated text could indicate the intended annotation target is the OWL axiom though it is not referenced in referencedComponentId. This simplifies the query of annotations by referencedComponent.

**id**| **effectiveTime**| **active**| **moduleId**| **refsetId**| **referencedComponentId**| **referencedMemberId**| **languageDiaiectCode**| **annotationTypeId**| **Annotation**  
---|---|---|---|---|---|---|---|---|---  
00000000-1111-2222-3333-444444444444| 20240131| 1| [900000000000012004 ](http://snomed.info/id/900000000000012004)[| SNOMED CT model component module|](http://snomed.info/id/900000000000012004)| 1292995002 | Member annotation with string value reference set (foundation metadata concept) || 91302008 |Sepsis (disorder)|| 3ddfb6d2-0874-4916-8767-8d48c781d435| en| |Change note (attribute)|  _(to be released)_|  In the third International Consensus Definitions for Sepsis and Septic Shock (Sepsis-3) published in 2016, the new definition eliminated the requirement for the presence of systemic inflammatory response syndrome (SIRS) to define sepsis. The sepsis is now logically defined as Organ dysfunction syndrome (disorder) with pathological process of disregulated host response due to infectious disease.
