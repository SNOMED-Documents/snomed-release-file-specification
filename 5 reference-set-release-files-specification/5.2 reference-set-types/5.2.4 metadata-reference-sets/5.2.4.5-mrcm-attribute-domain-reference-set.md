# MRCM Attribute Domain Reference Set

## Purpose

An [723604009 |MRCM attribute domain reference set|](http://snomed.info/id/723604009) allows attributes to be associated with the domains in which they may be applied. It also allows grouping and cardinality constraints to be specified for each attribute and domain combination. For each attribute-domain rule, the strength of the rule (e.g. [723597001 |Mandatory concept model rule|](http://snomed.info/id/723597001) or [723598006 |Optional concept model rule|](http://snomed.info/id/723598006) ) and the content type over which this rule applies (e.g. [723596005 |All SNOMED CT content|](http://snomed.info/id/723596005) , [723594008 |All precoordinated SNOMED CT content|](http://snomed.info/id/723594008) ) is also specified.

Each attribute is identified by its concept id, while each domain is identified by the same concept id used in the referencedComponentId of the [723589008 |MRCM domain reference set|](http://snomed.info/id/723589008)&#x20;

## Data Structure

**An** [**723604009 |MRCM attribute domain reference set|**](http://snomed.info/id/723604009) **is structured as shown in the following table.**

<table data-full-width="true"><thead><tr><th>Field</th><th>Data type</th><th>Purpose</th><th>Mutable</th><th>PK*</th></tr></thead><tbody><tr><td>id</td><td>UUID</td><td><p>A 128 bit unsigned Integer, uniquely identifying this reference set member.</p><p>Different versions of a <em>reference set member</em> share the same id but have different effectiveTime. This allows a <em>reference set member</em> to be modified or made inactive (i.e. removed from the active set) at a specified time.</p></td><td><mark style="color:$danger;"><strong>NO</strong></mark></td><td><mark style="color:$success;"><strong>YES</strong></mark> <br>(Full /Snapshot)</td></tr><tr><td>effectiveTime</td><td>Time</td><td><p>The inclusive date or time at which this version of the identified reference set member became the current version.</p><p><strong>Note</strong>: In distribution files the effectiveTime should follow the short ISO date format (<em>YYYYMMDD</em>) and should not include the hours, minutes, seconds or timezone indicator.</p><p>The current version of this reference set member at time <em>T</em> is the version with the most recent effectiveTime prior to or equal to time <em>T</em>.</p></td><td><mark style="color:$success;"><strong>YES</strong></mark> </td><td><p><mark style="color:$success;"><strong>YES</strong></mark> <br>(Full)</p><p><mark style="color:$success;">Optional</mark> (Snapshot) </p></td></tr><tr><td>active</td><td>Boolean</td><td><p>The state of the identified reference set member as at the specified effectiveTime .</p><p>If active = 1 (true) the reference set member is part of the current version of the set, if active = 0 (false) the reference set member is not part of the current version of the set.</p><p></p><p><strong>Note</strong>: <em>A module dependency should only be inactivated if it is found to be erroneous.</em></p></td><td><mark style="color:$success;"><strong>YES</strong></mark> </td><td><mark style="color:$danger;"><strong>NO</strong></mark></td></tr><tr><td>moduleId</td><td>SCTID</td><td><p>Identifies the SNOMED CT module that contains this reference set member as at the specified effectiveTime .</p><p>The value must be a subtype of <a href="http://snomed.info/id/900000000000443000">900000000000443000 |Module (core metadata concept)|</a> within the metadata hierarchy.</p></td><td><mark style="color:$success;"><strong>YES</strong></mark> </td><td><mark style="color:$danger;"><strong>NO</strong></mark></td></tr><tr><td>refsetId</td><td>SCTID</td><td><p>Identifies the reference set to which this reference set member belongs.</p><p>In this case, a subtype descendant of: <a href="http://snomed.info/id/723604009">723604009 |MRCM attribute domain reference set|</a></p></td><td><mark style="color:$danger;"><strong>NO</strong></mark></td><td><mark style="color:$danger;"><strong>NO</strong></mark></td></tr><tr><td>referencedComponentId</td><td>SCTID</td><td>A reference to the SNOMED CA reference to the SNOMED CT component to be included in the reference set. A reference to the SNOMED CT attribute concept to which the attribute-domain rule defined by this member applies.</td><td><mark style="color:$danger;"><strong>NO</strong></mark></td><td><mark style="color:$danger;"><strong>NO</strong></mark></td></tr><tr><td>domainId</td><td>SCTID</td><td>A reference to the SNOMED CT concept that identifies the relevant concept domain.</td><td><mark style="color:$danger;"><strong>NO</strong></mark></td><td><mark style="color:$danger;"><strong>NO</strong></mark></td></tr><tr><td>grouped</td><td>Boolean</td><td><p>Whether or not the given attribute (identified by referencedComponentId) is treated by a Description Logic reasoner as belonging to a relationship group, when applied to a concept in the given domain.</p><p>If grouped = 1 (true) then the given attribute (identified by referencedComponentId) is treated by a Description Logic reasoner as belonging to a relationship group.</p><p>If grouped = 0 (false) then the given attribute (identified by referencedComponentId) is treated by a Description Logic reasoner as not belonging to a relationship group.</p></td><td><mark style="color:$success;"><strong>YES</strong></mark> </td><td><mark style="color:$danger;"><strong>NO</strong></mark></td></tr><tr><td>attributeCardinality</td><td>String</td><td><p>The number of times the given attribute can be assigned a distinct (non-redundant) value within the definition of each concept or expression.</p><p>This string can be parsed using the following ABNF rule (together with the subrules defined in the <a href="https://app.gitbook.com/o/h8Z6qGxuQrzM9vbx5bPT/s/sOJBD7YbxAy9bD1Ko9L9/">Expression Constraint Language</a>):</p><p><em>attributeCardinality = minimum to maximum</em></p></td><td><mark style="color:$success;"><strong>YES</strong></mark> </td><td><mark style="color:$danger;"><strong>NO</strong></mark></td></tr><tr><td>attributeInGroupCardinality</td><td>String</td><td><p>The number of times the given attribute can be assigned a distinct (non-redundant) value within a single relationship group as part of the definition of a concept or expression.</p><p>This string can be parsed using the following ABNF rule (together with the subrules defined in the <a href="https://app.gitbook.com/o/h8Z6qGxuQrzM9vbx5bPT/s/sOJBD7YbxAy9bD1Ko9L9/">Expression Constraint Language</a>):</p><p><em>attributeCardinality = minimum to maximum</em></p></td><td><mark style="color:$success;"><strong>YES</strong></mark> </td><td><mark style="color:$danger;"><strong>NO</strong></mark></td></tr><tr><td>ruleStrengthId</td><td>SCTID</td><td>A subtype of <a href="http://snomed.info/id/723573005">723573005 | Concept model rule strength|</a> which specifies whether the given rule is mandatory (resulting in an error) or optional (resulting in a warning</td><td><mark style="color:$success;"><strong>YES</strong></mark> </td><td><mark style="color:$danger;"><strong>NO</strong></mark></td></tr><tr><td>contentTypeId</td><td>SCTID</td><td>A subtype of <a href="http://snomed.info/id/723574004">723574004 |Content type|</a> which indicates the type of SNOMED CT content over which this rule applies. In many cases, this will be set to <a href="http://snomed.info/id/723596005">723596005 |All SNOMED CT content|</a> .</td><td><mark style="color:$success;"><strong>YES</strong></mark> </td><td><mark style="color:$danger;"><strong>NO</strong></mark></td></tr></tbody></table>

{% hint style="info" %}
PK\* indicates if the attribute is part of the primary key for that file/table.
{% endhint %}

***

## Metadata

The following metadata hierarchy supports this reference set:

> [900000000000454005 | Foundation metadata concept|](http://snomed.info/id/900000000000454005)
>
> * [900000000000455006 | Reference set|](http://snomed.info/id/900000000000455006) &#x20;
>   * [723564002 | MRCM reference set|](http://snomed.info/id/723564002) &#x20;
>     * [723604009 | MRCM attribute domain reference set|](http://snomed.info/id/723604009)
>       * [723561005 | MRCM attribute domain international reference set|](http://snomed.info/id/723561005)
> * [900000000000457003 | Reference set attribute|](http://snomed.info/id/900000000000457003) &#x20;
>   * [723571007 | Cardinality|](http://snomed.info/id/723571007)
>     * [723602008 | Attribute cardinality|](http://snomed.info/id/723602008)
>     * [723603003 | Attribute in group cardinality|](http://snomed.info/id/723603003)
>   * [723574004 | Content type|](http://snomed.info/id/723574004) [<sup>1</sup>](https://confluence.ihtsdotools.org/display/DOCMRCM/5.2+MRCM+Attribute+Domain+Reference+Set#Footnote1)
>     * [723593002 | All new precoordinated SNOMED CT content|](http://snomed.info/id/723593002)
>       * [723594008 | All precoordinated SNOMED CT content|](http://snomed.info/id/723594008)
>         * [723596005 | All SNOMED CT content|](http://snomed.info/id/723596005)
>     * [723595009 | All postcoordinated SNOMED CT content|](http://snomed.info/id/723595009)
>       * [723596005 | All SNOMED CT content|](http://snomed.info/id/723596005)
>   * [609431004 | Domain|](http://snomed.info/id/609431004)
>   * [723572000 | Grouped|](http://snomed.info/id/723572000)
>   * [723573005 | Concept model rule strength|](http://snomed.info/id/723573005)
>     * [723597001 | Mandatory concept model rule|](http://snomed.info/id/723597001)
>     * [723598006 | Optional concept model rule|](http://snomed.info/id/723598006)

{% hint style="info" %}
1. Please note that the [723574004 |Content type|](http://snomed.info/id/723574004) hierarchy is designed using 'universal restriction' logic. The hierarchy may therefore appear to be 'upside down'. However, it was designed in this way because if an MRCM rule applies to [723596005 |All SNOMED CT content|](http://snomed.info/id/723596005) then it also applies to the Content Types that are a supertype of this - including [723594008 |All precoordinated SNOMED CT content|](http://snomed.info/id/723594008) and [723595009 |All postcoordinated SNOMED CT content|](http://snomed.info/id/723595009) .
{% endhint %}

## Reference Set Descriptor and Example Data

{% hint style="info" %}
**Notes on the tables used to show descriptors and examples**

The reference set example tables on this page have been revised as follows to aid clarity and understanding:

* The first four columns which are present in all release files are not shown. The omitted columns (id, effectiveTime, active, moduleId) are used in the same way in all referenced sets to support identification, versioning and packaging. They do not directly affect the specific features of a particular reference set or reference set type.
* Reference set columns that contain SNOMED CT identifiers are expanded to show details of the concept or description referenced by that identifier. In some cases, the term is shown in the same column using the expression syntax, in other cases an additional column with a name suffix '\_term' has been added. In the standard reference set files only the identifier is present in the column and there is no added column for the term. When using reference sets, the term and other details of the component are looked up from the relevant component release files.
{% endhint %}

#### Descriptor Template

**The table below shows the reference set descriptor for a reference set that follows the** [**723604009 |MRCM attribute domain reference set|**](http://snomed.info/id/723604009) **pattern.**

<table data-full-width="true"><thead><tr><th width="230.37918090820312">refsetId</th><th width="278.27813720703125">referencedComponentId</th><th width="200.98443603515625">attributeDescription</th><th width="225.453125">attributeType</th><th>attribute Order</th></tr></thead><tbody><tr><td><a href="http://snomed.info/id/900000000000456007">900000000000456007 | Reference set descriptor|</a></td><td><a href="http://snomed.info/id/723604009">723604009 | MRCM attribute domain reference set|</a></td><td><a href="http://snomed.info/id/449608002">449608002 | Referenced component|</a></td><td><a href="http://snomed.info/id/900000000000461009">900000000000461009 | Concept type component|</a></td><td>0</td></tr><tr><td><a href="http://snomed.info/id/900000000000456007">900000000000456007 | Reference set descriptor|</a></td><td><a href="http://snomed.info/id/723604009">723604009 | MRCM attribute domain reference set|</a></td><td><a href="http://snomed.info/id/609431004">609431004 | Domain|</a></td><td><a href="http://snomed.info/id/900000000000461009">900000000000461009 | Concept type component|</a></td><td>1</td></tr><tr><td><a href="http://snomed.info/id/900000000000456007">900000000000456007 | Reference set descriptor|</a></td><td><a href="http://snomed.info/id/723604009">723604009 | MRCM attribute domain reference set|</a></td><td><a href="http://snomed.info/id/723572000">723572000 | Grouped|</a></td><td><a href="http://snomed.info/id/900000000000478000">900000000000478000 | Unsigned integer|</a></td><td>2</td></tr><tr><td><a href="http://snomed.info/id/900000000000456007">900000000000456007 | Reference set descriptor|</a></td><td><a href="http://snomed.info/id/723604009">723604009 | MRCM attribute domain reference set|</a></td><td><a href="http://snomed.info/id/723602008">723602008 | Attribute Cardinality|</a></td><td><a href="http://snomed.info/id/707000009">707000009 | SNOMED CT parsable string|</a></td><td>3</td></tr><tr><td><a href="http://snomed.info/id/900000000000456007">900000000000456007 | Reference set descriptor|</a></td><td><a href="http://snomed.info/id/723604009">723604009 | MRCM attribute domain reference set|</a></td><td><a href="http://snomed.info/id/723603003">723603003 | Attribute In Group Cardinality|</a></td><td><a href="http://snomed.info/id/707000009">707000009 | SNOMED CT parsable string|</a></td><td>4</td></tr><tr><td><a href="http://snomed.info/id/900000000000456007">900000000000456007 | Reference set descriptor|</a></td><td><a href="http://snomed.info/id/723604009">723604009 | MRCM attribute domain reference set|</a></td><td><a href="http://snomed.info/id/723573005">723573005 | Concept model rule Strength|</a></td><td><a href="http://snomed.info/id/900000000000461009">900000000000461009 | Concept type component|</a></td><td>5</td></tr><tr><td><a href="http://snomed.info/id/900000000000456007">900000000000456007 | Reference set descriptor|</a></td><td><a href="http://snomed.info/id/723604009">723604009 | MRCM attribute domain reference set|</a></td><td><a href="http://snomed.info/id/723574004">723574004 | Content type|</a></td><td><a href="http://snomed.info/id/900000000000461009">900000000000461009 | Concept type component|</a></td><td>6</td></tr></tbody></table>

***

#### Example Data

**The table below shows some example rows from a reference set that follows the format of the** [**723604009 |MRCM attribute domain reference set|**](http://snomed.info/id/723604009) **.**

<table data-full-width="true"><thead><tr><th>refsetId</th><th>referencedComponentId</th><th>domainId</th><th>grouped</th><th>attribute Cardinality</th><th>attribute InGroup Cardinality</th><th>ruleStrengthId</th><th>contentTypeId</th></tr></thead><tbody><tr><td><a href="http://snomed.info/id/723561005">723561005 | MRCM attribute domain international reference set|</a></td><td><a href="http://snomed.info/id/255234002">255234002 | After|</a></td><td><a href="http://snomed.info/id/404684003">404684003 | Clinical finding (finding)|</a></td><td>1</td><td>0..*</td><td>0..*</td><td><a href="http://snomed.info/id/723597001">723597001 | Mandatory concept model rule|</a></td><td><a href="http://snomed.info/id/723596005">723596005 | All SNOMED CT content|</a></td></tr><tr><td><a href="http://snomed.info/id/723561005">723561005 | MRCM attribute domain international reference set|</a></td><td><a href="http://snomed.info/id/255234002">255234002 | After|</a></td><td><a href="http://snomed.info/id/272379006">272379006 | Event (event)|</a></td><td>1</td><td>0..*</td><td>0..*</td><td><a href="http://snomed.info/id/723597001">723597001 | Mandatory concept model rule|</a></td><td><a href="http://snomed.info/id/723596005">723596005 | All SNOMED CT content|</a></td></tr><tr><td><a href="http://snomed.info/id/723561005">723561005 | MRCM attribute domain international reference set|</a></td><td><a href="http://snomed.info/id/408729009">408729009 | Finding context|</a></td><td><a href="http://snomed.info/id/413350009">413350009 | Finding with explicit context (situation)|</a></td><td>1</td><td>0..*</td><td>0..1</td><td><a href="http://snomed.info/id/723597001">723597001 | Mandatory concept model rule|</a></td><td><a href="http://snomed.info/id/723596005">723596005 | All SNOMED CT content|</a></td></tr><tr><td><a href="http://snomed.info/id/723561005">723561005 | MRCM attribute domain international reference set|</a></td><td><a href="http://snomed.info/id/272741003">272741003 | Laterality|</a></td><td><a href="http://snomed.info/id/91723000">91723000 | Anatomical structure (body structure)|</a></td><td>0</td><td>0..1</td><td>0..0</td><td><a href="http://snomed.info/id/723597001">723597001 | Mandatory concept model rule|</a></td><td><a href="http://snomed.info/id/723594008">723594008 | All precoordinated SNOMED CT content|</a></td></tr></tbody></table>

***






<a href="https://docs.google.com/forms/d/e/1FAIpQLScTmbZIf0UEQwYDkY27EEWBkaiYkHSbR0_9DmFrMLXoQLyL7Q/viewform?usp=pp_url&entry.1767247133=Release+File+Specification&entry.670899847=MRCM%20Attribute%20Domain%20Reference%20Set" class="button primary">Provide Feedback</a>
