# 5.2.4.1-reference-set-descriptor

## 5.2.4.1 Reference Set Descriptor

## Purpose

The [900000000000456007 | Reference set descriptor|](http://snomed.info/id/900000000000456007) is a [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) that is used to specify the format of all [reference sets](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) included in a release. The data type and meaning of the referenced component and each additional field within each [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) is described by this [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) .

[Reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/Reference+set) descriptor can be used to define

* The order of appearance of additional attributes (other than those mandatory for all [reference sets](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) );
* The name and purpose of the additional attributes;
* The data types for the additional attributes.

This allows for a [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) to be validated using the metadata embedded within the [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) descriptor in the following ways:

* the data type of its attributes may be validated against the data type declared in the [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) descriptor;
* the column order can be checked against the [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) descriptor.

## Data structure

The [Reference set descriptor reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/Reference+set+descriptor+reference+set) is a [Component](https://confluence.ihtsdotools.org/display/DOCGLOSS/Component) - [Component](https://confluence.ihtsdotools.org/display/DOCGLOSS/Component) - [Integer](https://confluence.ihtsdotools.org/display/WIPRELFMT/Integer+\(data+type\)) [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) that specifies the structure of reference sets. Its structure is shown in the following table.

<figure><img src="../../../5%20reference-set-release-files-specification/5.2%20reference-set-types/5.2.4%20metadata-reference-sets/plugins/servlet/confluence/placeholder/unknown-macro" alt=""><figcaption><p><strong>Field</strong>| <strong>Data type</strong>| <strong>Purpose</strong>| <strong>[Mutable](https://confluence.ihtsdotools.org/display/DOCGLOSS/Mutable "Glossary link: Mutable")</strong>| <strong>Part of Primary Key</strong></p></figcaption></figure>

\|---|---|---|---\
id| \[UUID]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/UUID+\\(data+type\\) "Reference term: UUID \\(\\(data type\\)\\)")| A 128 bit unsigned \[Integer]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/Integer+\\(data+type\\) "Reference term: Integer \\(\\(data type\\)\\)"), uniquely identifying this \[reference set member]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member").Different versions of a \_reference set member\_ share the same \[id]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/id+\\(field\\) "Reference term: id \\(\\(field\\)\\)") but have different \[effectiveTime]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\\(field\\) "Reference term: effectiveTime \\(\\(field\\)\\)"). This allows a \_reference set member\_ to be modified or made \[inactive]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/inactive+\\(field\\) "Reference term: inactive \\(field\\)") (i.e. removed from the active set) at a specified time.\
\| NO| YES (Full /Snapshot)\
\[effectiveTime]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\\(field\\) "Reference term: effectiveTime \\(\\(field\\)\\)")| \[Time]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/Time+\\(data+type\\) "Reference term: Time \\(\\(data type\\)\\)")| The inclusive date or time at which this version of the identified \[reference set member]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") became the current version.\*\*Note\*\* : In distribution files the effectiveTime should follow the short ISO date format (\_YYYYMM \_DD\_\_) and should not include the hours, minutes, seconds or timezone indicator.The current version of this \[reference set member]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") at time \_T\_ is the version with the most recent \[effectiveTime]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\\(field\\) "Reference term: effectiveTime \\(\\(field\\)\\)") prior to or equal to time \_T\_ .\
\| YES| YES (Full)Optional (Snapshot)\
\[active]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/active+\\(field\\) "Reference term: active \\(\\(field\\)\\)")| \[Boolean]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/Boolean+\\(data+type\\) "Reference term: Boolean \\(\\(data type\\)\\)")| The state of the identified \[reference set member]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") as at the specified \[effectiveTime]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\\(field\\) "Reference term: effectiveTime \\(\\(field\\)\\)") .If \[active]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/active+\\(field\\) "Reference term: active \\(\\(field\\)\\)") = 1 (true) the \[reference set member]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") is part of the current version of the set, if \[active]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/active+\\(field\\) "Reference term: active \\(\\(field\\)\\)") = 0 (false) the \[reference set member]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") is not part of the current version of the set.\
\| YES| NO\
\[moduleId]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/moduleId+\\(field\\) "Reference term: moduleId \\(\\(field\\)\\)")| \[SCTID]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\\(data+type\\) "Reference term: SCTID \\(\\(data type\\)\\)")| Identifies the \[SNOMED CT module]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/SNOMED+CT+module "Glossary link: SNOMED CT module") that contains this \[reference set member]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") as at the specified \[effectiveTime]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\\(field\\) "Reference term: effectiveTime \\(\\(field\\)\\)") .The value must be a \[subtype]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/subtype "Glossary link: subtype") of \[ 900000000000443000 | Module (core metadata concept)|]\(http://snomed.info/id/900000000000443000 "900000000000443000 | Module \\(core metadata concept\\) |") within the metadata \[hierarchy]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/hierarchy "Glossary link: hierarchy").\
\| YES| NO\
\[refsetId]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/refsetId+\\(field\\) "Reference term: refsetId \\(\\(field\\)\\)")| \[SCTID]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\\(data+type\\) "Reference term: SCTID \\(\\(data type\\)\\)")| Identifies the \[reference set]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference set") to which this \[reference set member]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") belongs. In this case, the refsetId is always \[ 900000000000456007 | Reference set descriptor|]\(http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor |") as there is only one reference set of this type.| NO| NO\
\[referencedComponentId]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/referencedComponentId+\\(field\\) "Reference term: referencedComponentId \\(\\(field\\)\\)")| \[SCTID]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\\(data+type\\) "Reference term: SCTID \\(\\(data type\\)\\)")| A reference to the \[SNOMED CT component]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/SNOMED+CT+component "Glossary link: SNOMED CT component") to be included in the \[reference set]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference set"). Refers to the \[concept]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept") that identifies the reference set (or reference set type) defined by this descriptor.| NO| NO\
\[attributeDescription]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/attributeDescription+\\(field\\) "Reference term: attributeDescription \\(\\(field\\)\\)")| \[SCTID]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\\(data+type\\) "Reference term: SCTID \\(\\(data type\\)\\)")| Specifies the name of an attribute that is used in the \[reference set]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference set") to which this descriptor applies.Set to a \[descendant]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/descendant "Glossary link: descendant") of \[ 900000000000457003 | Reference set attribute (foundation metadata concept)|]\(http://snomed.info/id/900000000000457003 "900000000000457003 | Reference set attribute \\(foundation metadata concept\\) |") in the metadata \[hierarchy]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/hierarchy "Glossary link: hierarchy"), that describes the additional attribute extending the \[reference set]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference set") .| NO| NO\
\[attributeType]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/attributeType+\\(field\\) "Reference term: attributeType \\(\\(field\\)\\)")| \[SCTID]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\\(data+type\\) "Reference term: SCTID \\(\\(data type\\)\\)")| Specifies the data type of this attribute in the \[reference set]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference set") to which this descriptor applies.Set to a \[descendant]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/descendant "Glossary link: descendant") of \[ 900000000000459000 | attribute type (foundation metadata concept)|]\(http://snomed.info/id/900000000000459000 "900000000000459000 | attribute type \\(foundation metadata concept\\) |") in the metadata \[hierarchy]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/hierarchy "Glossary link: hierarchy"), that describes the type of the additional attribute extending the \[reference set]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference set") .| NO| NO\
\[attributeOrder]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/attributeOrder+\\(field\\) "Reference term: attributeOrder \\(\\(field\\)\\)")| \[integer]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/integer+\\(data+type\\) "Reference term: integer \\(data type\\)")| Specifies the position of this attribute in the \[reference set]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference set") to which this descriptor applies. A zero value identifies the \[referencedComponentId]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/referencedComponentId+\\(field\\) "Reference term: referencedComponentId \\(\\(field\\)\\)") within the \[reference set]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference set"). Other values specify an additional attributes by its position relative to the \[referencedComponentId]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/referencedComponentId+\\(field\\) "Reference term: referencedComponentId \\(\\(field\\)\\)"). Within a particular descriptor, \[attributeOrder]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/attributeOrder+\\(field\\) "Reference term: attributeOrder \\(\\(field\\)\\)") values for a particular \[referencedComponentId]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/referencedComponentId+\\(field\\) "Reference term: referencedComponentId \\(\\(field\\)\\)") must be contiguous.An unsigned \[Integer]\(https://confluence.ihtsdotools.org/display/DOCRELFMT/Integer+\\(data+type\\) "Reference term: Integer \\(\\(data type\\)\\)"), providing an ordering for the additional attributes extending the \[reference set]\(https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference set") .| NO| NO

At least one row must exist for each [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) included in a release. This row must have an [attributeOrder](https://confluence.ihtsdotools.org/display/DOCRELFMT/attributeOrder+\(field\)) value of '0' and an [attributeType](https://confluence.ihtsdotools.org/display/DOCRELFMT/attributeType+\(field\)) of ' [component](https://confluence.ihtsdotools.org/display/DOCGLOSS/component) type' (or one of its [descendants](https://confluence.ihtsdotools.org/display/DOCGLOSS/descendant)). The [referencedComponentId](https://confluence.ihtsdotools.org/display/DOCRELFMT/referencedComponentId+\(field\)) identifies the [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) defined by the descriptor.

There is one additional row for each additional column present in the specified [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) .

Creation of [Reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/Reference+set) descriptor data is mandatory when creating a new [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) in the [International Release](https://confluence.ihtsdotools.org/display/DOCGLOSS/International+Release) or in a [National Extension](https://confluence.ihtsdotools.org/display/DOCGLOSS/National+Extension) .

Creation of a [Reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/Reference+set) descriptor is optional when creating a [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) in another [Extension](https://confluence.ihtsdotools.org/display/DOCGLOSS/Extension). If a descriptor is not created, the descriptor of the closest [ancestor](https://confluence.ihtsdotools.org/display/DOCGLOSS/ancestor) of the [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) is used when validating [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) member records.

## Metadata

The following metadata in the |Foundation metadata [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept) | [hierarchy](https://confluence.ihtsdotools.org/display/DOCGLOSS/hierarchy) supports the [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) descriptor [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set) .

The [Reference Set](https://confluence.ihtsdotools.org/display/DOCGLOSS/Reference+Set) Descriptor [Reference Set](https://confluence.ihtsdotools.org/display/DOCGLOSS/Reference+Set) is specified by the [900000000000456007 | Reference set descriptor|](http://snomed.info/id/900000000000456007) [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept) in the metadata hierarchy.

* [900000000000441003 | SNOMED CT Model Component|](http://snomed.info/id/900000000000441003)
  * [900000000000454005 | Foundation metadata concept|](http://snomed.info/id/900000000000454005)
    * [900000000000455006 | Reference set|](http://snomed.info/id/900000000000455006)
      * [900000000000456007 | Reference set descriptor|](http://snomed.info/id/900000000000456007)

<figure><img src="../../../5%20reference-set-release-files-specification/5.2%20reference-set-types/5.2.4%20metadata-reference-sets/plugins/servlet/confluence/placeholder/unknown-macro" alt=""><figcaption><p>Values in the [Reference Set](https://confluence.ihtsdotools.org/display/DOCGLOSS/Reference+Set "Glossary link: Reference Set") are populated from:</p></figcaption></figure>

* [900000000000454005 | Foundation metadata concept|](http://snomed.info/id/900000000000454005)
  * [900000000000457003 | Reference set attribute|](http://snomed.info/id/900000000000457003)
    * [900000000000458008 | Attribute description|](http://snomed.info/id/900000000000458008)
    * [900000000000459000 | Attribute type|](http://snomed.info/id/900000000000459000)
      * [900000000000460005 | Component type|](http://snomed.info/id/900000000000460005)
        * [900000000000461009 | Concept type component|](http://snomed.info/id/900000000000461009)
        * [900000000000462002 | Description type component|](http://snomed.info/id/900000000000462002)
        * [900000000000463007 | Relationship type component|](http://snomed.info/id/900000000000463007)
        * [900000000000464001 | Reference set member type component|](http://snomed.info/id/900000000000464001)
      * [900000000000465000 | String|](http://snomed.info/id/900000000000465000)
        * [900000000000466004 | Text|](http://snomed.info/id/900000000000466004)
          * [900000000000467008 | Single character|](http://snomed.info/id/900000000000467008)
          * [900000000000468003 | Text < 256 bytes|](http://snomed.info/id/900000000000468003)
        * [900000000000469006 | URL|](http://snomed.info/id/900000000000469006)
          * [900000000000470007 | HTML reference|](http://snomed.info/id/900000000000470007)
          * [900000000000471006 | Image reference|](http://snomed.info/id/900000000000471006) ...
        * [900000000000474003 | UUID|](http://snomed.info/id/900000000000474003)
        * [900000000000475002 | Time|](http://snomed.info/id/900000000000475002)
      * [900000000000476001 | Integer|](http://snomed.info/id/900000000000476001)
        * [900000000000477005 | Signed integer|](http://snomed.info/id/900000000000477005)
        * [900000000000478000 | Unsigned integer|](http://snomed.info/id/900000000000478000)
      * [900000000000460005 | Component type|](http://snomed.info/id/900000000000460005) ...
      * [900000000000465000 | String|](http://snomed.info/id/900000000000465000) ...
      * [900000000000476001 | Integer|](http://snomed.info/id/900000000000476001) ...
    * [900000000000479008 | Attribute order|](http://snomed.info/id/900000000000479008)
    * [900000000000491004 | Attribute value|](http://snomed.info/id/900000000000491004) ...

<figure><img src="../../../5%20reference-set-release-files-specification/5.2%20reference-set-types/5.2.4%20metadata-reference-sets/plugins/servlet/confluence/placeholder/unknown-macro" alt=""><figcaption></figcaption></figure>

## Reference Set Descriptor and Example Data

### Descriptor Template

The table below shows the descriptor that defines the structure of the [900000000000456007 | Reference set descriptor|](http://snomed.info/id/900000000000456007) . Note that this descriptor is itself part of the [900000000000456007 | Reference set descriptor|](http://snomed.info/id/900000000000456007) that it describes!

<figure><img src="../../../5%20reference-set-release-files-specification/5.2%20reference-set-types/5.2.4%20metadata-reference-sets/plugins/servlet/confluence/placeholder/unknown-macro" alt=""><figcaption><p><strong>refsetId</strong>| <strong>referencedComponentId (Referenced component)</strong>| <strong>attributeDescription (Attribute description)</strong>| <strong>attributeType (Attribute type)</strong>| <strong>attributeOrder (Attribute order)</strong></p></figcaption></figure>

\|---|---|---|---\
\[ 900000000000456007 | Reference set descriptor|]\(http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor |") | \[ 900000000000456007 | Reference set descriptor|]\(http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor |") | \[ 449608002 | Referenced component|]\(http://snomed.info/id/449608002 "449608002 | Referenced component |") | \[ 900000000000461009 | Concept type component|]\(http://snomed.info/id/900000000000461009 "900000000000461009 | Concept type component |") | 0\
\[ 900000000000456007 | Reference set descriptor|]\(http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor |") | \[ 900000000000456007 | Reference set descriptor|]\(http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor |") | \[ 900000000000458008 | Attribute description|]\(http://snomed.info/id/900000000000458008 "900000000000458008 | Attribute description |") | \[ 900000000000461009 | Concept type component|]\(http://snomed.info/id/900000000000461009 "900000000000461009 | Concept type component |") | 1\
\[ 900000000000456007 | Reference set descriptor|]\(http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor |") | \[ 900000000000456007 | Reference set descriptor|]\(http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor |") | \[ 900000000000459000 | Attribute type|]\(http://snomed.info/id/900000000000459000 "900000000000459000 | Attribute type |") | \[ 900000000000461009 | Concept type component|]\(http://snomed.info/id/900000000000461009 "900000000000461009 | Concept type component |") | 2\
\[ 900000000000456007 | Reference set descriptor|]\(http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor |") | \[ 900000000000456007 | Reference set descriptor|]\(http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor |") | \[ 900000000000479008 | Attribute order|]\(http://snomed.info/id/900000000000479008 "900000000000479008 | Attribute order |") | \[ 900000000000478000 | Unsigned integer|]\(http://snomed.info/id/900000000000478000 "900000000000478000 | Unsigned integer |") | 3
