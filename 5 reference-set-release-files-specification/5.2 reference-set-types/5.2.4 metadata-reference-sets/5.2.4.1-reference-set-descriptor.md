# Reference Set Descriptor

## Purpose

The [900000000000456007 |Reference set descriptor|](http://snomed.info/id/900000000000456007) is a reference set that is used to specify the format of all reference sets included in a release. The data type and meaning of the referenced component and each additional field within each reference set is described by this reference set .

Reference set descriptor can be used to define

* The order of appearance of additional attributes (other than those mandatory for all reference sets);
* The name and purpose of the additional attributes;
* The data types for the additional attributes.

This allows for a reference set to be validated using the metadata embedded within the reference set descriptor in the following ways:

* the data type of its attributes may be validated against the data type declared in the reference set descriptor;
* the column order can be checked against the reference set descriptor.

## Data structure

The Reference set descriptor reference set is a Component - Component - Integer reference set that specifies the structure of reference sets. Its structure is shown in the following table.

<table data-header-hidden data-full-width="true"><thead><tr><th width="208.015625"></th><th width="94.0859375"></th><th width="604.5993041992188"></th><th width="89.25390625"></th><th width="144.0390625"></th></tr></thead><tbody><tr><td><strong>Field</strong></td><td><strong>Data type</strong></td><td><strong>Purpose</strong></td><td><strong>Mutable</strong></td><td><strong>Part of Primary Key</strong></td></tr><tr><td>id</td><td>UUID</td><td><p>A 128 bit unsigned Integer, uniquely identifying this reference set member.</p><p>Different versions of a <em>reference set member</em> share the same id but have different effectiveTime. This allows a <em>reference set member</em> to be modified or made inactive (i.e. removed from the active set) at a specified time.</p></td><td><mark style="color:$danger;"><strong>NO</strong></mark></td><td><mark style="color:$success;"><strong>YES</strong></mark> <br>(Full /Snapshot)</td></tr><tr><td>effectiveTime</td><td>Time</td><td><p>The inclusive date or time at which this version of the identified reference set member became the current version.</p><p><strong>Note</strong>: In distribution files the effectiveTime should follow the short ISO date format (<em>YYYYMMDD</em>) and should not include the hours, minutes, seconds or timezone indicator.</p><p>The current version of this reference set member at time <em>T</em> is the version with the most recent effectiveTime prior to or equal to time <em>T</em>.</p></td><td><mark style="color:$success;"><strong>YES</strong></mark> </td><td><p><mark style="color:$success;"><strong>YES</strong></mark> <br>(Full)</p><p><mark style="color:$success;">Optional</mark> (Snapshot) </p></td></tr><tr><td>active</td><td>Boolean</td><td><p>The state of the identified reference set member as at the specified effectiveTime .</p><p>If active = 1 (true) the reference set member is part of the current version of the set, if active = 0 (false) the reference set member is not part of the current version of the set.</p></td><td><mark style="color:$success;"><strong>YES</strong></mark> </td><td><mark style="color:$danger;"><strong>NO</strong></mark></td></tr><tr><td>moduleId</td><td>SCTID</td><td><p>Identifies the SNOMED CT module that contains this reference set member as at the specified effectiveTime.</p><p>The value must be a subtype of <a href="http://snomed.info/id/900000000000443000">900000000000443000 |Module (core metadata concept)|</a> within the metadata hierarchy.</p></td><td><mark style="color:$success;"><strong>YES</strong></mark> </td><td><mark style="color:$danger;"><strong>NO</strong></mark></td></tr><tr><td>refsetId</td><td>SCTID</td><td><p>Identifies the reference set to which this reference set member belongs.</p><p>In this case, the refsetId is always <a href="http://snomed.info/id/900000000000456007">900000000000456007 |Reference set descriptor|</a> as there is only one reference set of this type.</p></td><td><mark style="color:$danger;"><strong>NO</strong></mark></td><td><mark style="color:$danger;"><strong>NO</strong></mark></td></tr><tr><td>referencedComponentId</td><td>SCTID</td><td><p>A reference to the SNOMED CT component to be included in the reference set.</p><p>Refers to the concept that identifies the reference set (or reference set type) defined by this descriptor.</p></td><td><mark style="color:$danger;"><strong>NO</strong></mark></td><td><mark style="color:$danger;"><strong>NO</strong></mark></td></tr><tr><td>attributeDescription</td><td>SCTID</td><td><p>Specifies the name of an attribute that is used in the reference set to which this descriptor applies.</p><p>Set to a descendant of <a href="http://snomed.info/id/900000000000457003">900000000000457003 |Reference set attribute (foundation metadata concept)|</a> in the metadata hierarchy, that describes the additional attribute extending the reference set .</p></td><td><mark style="color:$danger;"><strong>NO</strong></mark> </td><td><mark style="color:$danger;"><strong>NO</strong></mark></td></tr><tr><td>attributeType</td><td>SCTID</td><td><p>Specifies the data type of this attribute in the reference set to which this descriptor applies.</p><p>Set to a descendant of <a href="http://snomed.info/id/900000000000459000">900000000000459000 |attribute type (foundation metadata concept)|</a> in the metadata hierarchy, that describes the type of the additional attribute extending the reference set .</p></td><td><mark style="color:$danger;"><strong>NO</strong></mark></td><td><mark style="color:$danger;"><strong>NO</strong></mark></td></tr><tr><td>attributeOrder</td><td>integer</td><td><p>Specifies the position of this attribute in the reference set to which this descriptor applies. A zero value identifies the referencedComponentId within the reference set. Other values specify an additional attributes by its position relative to the referencedComponentId. Within a particular descriptor, attributeOrder values for a particular referencedComponentId must be contiguous.</p><p>An unsigned Integer, providing an ordering for the additional attributes extending the reference set .</p></td><td><mark style="color:$danger;"><strong>NO</strong></mark></td><td><mark style="color:$danger;"><strong>NO</strong></mark></td></tr></tbody></table>

***

At least one row must exist for each reference set included in a release. This row must have an attributeOrder value of '0' and an attributeType of ' component type' (or one of its descendants). The referencedComponentId identifies the reference set defined by the descriptor.

There is one additional row for each additional column present in the specified reference set .

Creation of Reference set descriptor data is mandatory when creating a new reference set in the International Release or in a National Extension.

Creation of a Reference set descriptor is optional when creating a reference set in another Extension. If a descriptor is not created, the descriptor of the closest ancestor of the reference set is used when validating reference set member records.

## Metadata

The following metadata in the <mark style="color:blue;">|</mark>Foundation metadata concept<mark style="color:blue;">|</mark> hierarchy supports the reference set descriptor reference set.

The Reference Set Descriptor Reference Set is specified by the [900000000000456007 |Reference set descriptor|](http://snomed.info/id/900000000000456007) concept in the metadata hierarchy.

<table data-header-hidden data-full-width="false"><thead><tr><th></th></tr></thead><tbody><tr><td><p><a href="http://snomed.info/id/900000000000441003">900000000000441003 | SNOMED CT Model Component|</a></p><ul><li><p><a href="http://snomed.info/id/900000000000454005">900000000000454005 | Foundation metadata concept|</a></p><ul><li><p><a href="http://snomed.info/id/900000000000455006">900000000000455006 | Reference set|</a></p><ul><li><a href="http://snomed.info/id/900000000000456007">900000000000456007 | Reference set descriptor|</a></li></ul></li></ul></li></ul></td></tr></tbody></table>

***

**Values in the Reference Set are populated from:**

<table data-header-hidden data-full-width="false"><thead><tr><th></th></tr></thead><tbody><tr><td><p><a href="http://snomed.info/id/900000000000454005">900000000000454005 | Foundation metadata concept|</a></p><ul><li><p><a href="http://snomed.info/id/900000000000457003">900000000000457003 | Reference set attribute|</a></p><ul><li><a href="http://snomed.info/id/900000000000458008">900000000000458008 | Attribute description|</a></li><li><p><a href="http://snomed.info/id/900000000000459000">900000000000459000 | Attribute type|</a></p><ul><li><p><a href="http://snomed.info/id/900000000000460005">900000000000460005 | Component type|</a></p><ul><li><a href="http://snomed.info/id/900000000000461009">900000000000461009 | Concept type component|</a></li><li><a href="http://snomed.info/id/900000000000462002">900000000000462002 | Description type component|</a></li><li><a href="http://snomed.info/id/900000000000463007">900000000000463007 | Relationship type component|</a></li><li><a href="http://snomed.info/id/900000000000464001">900000000000464001 | Reference set member type component|</a></li></ul></li><li><p><a href="http://snomed.info/id/900000000000465000">900000000000465000 | String|</a></p><ul><li><p><a href="http://snomed.info/id/900000000000466004">900000000000466004 | Text|</a></p><ul><li><a href="http://snomed.info/id/900000000000467008">900000000000467008 | Single character|</a></li><li><a href="http://snomed.info/id/900000000000468003">900000000000468003 | Text &#x26;lt; 256 bytes|</a></li></ul></li><li><p><a href="http://snomed.info/id/900000000000469006">900000000000469006 | URL|</a></p><ul><li><a href="http://snomed.info/id/900000000000470007">900000000000470007 | HTML reference|</a></li><li><a href="http://snomed.info/id/900000000000471006">900000000000471006 | Image reference|</a> ...</li></ul></li><li><a href="http://snomed.info/id/900000000000474003">900000000000474003 | UUID|</a></li><li><a href="http://snomed.info/id/900000000000475002">900000000000475002 | Time|</a></li></ul></li><li><p><a href="http://snomed.info/id/900000000000476001">900000000000476001 | Integer|</a></p><ul><li><a href="http://snomed.info/id/900000000000477005">900000000000477005 | Signed integer|</a></li><li><a href="http://snomed.info/id/900000000000478000">900000000000478000 | Unsigned integer|</a></li></ul></li><li><a href="http://snomed.info/id/900000000000460005">900000000000460005 | Component type|</a> ...</li><li><a href="http://snomed.info/id/900000000000465000">900000000000465000 | String|</a> ...</li><li><a href="http://snomed.info/id/900000000000476001">900000000000476001 | Integer|</a> ...</li></ul></li><li><a href="http://snomed.info/id/900000000000479008">900000000000479008 | Attribute order|</a></li><li><a href="http://snomed.info/id/900000000000491004">900000000000491004 | Attribute value|</a> ...</li></ul></li></ul></td></tr></tbody></table>

***

## Reference Set Descriptor and Example Data

{% hint style="info" %}
**Notes on the tables used to show descriptors and examples**

The reference set example tables on this page have been revised as follows to aid clarity and understanding:

* The first four columns which are present in all release files are not shown. The omitted columns (id, effectiveTime, active, moduleId) are used in the same way in all referenced sets to support identification, versioning and packaging. They do not directly affect the specific features of a particular reference set or reference set type.
* Reference set columns that contain SNOMED CT identifiers are expanded to show details of the concept or description referenced by that identifier. In some cases, the term is shown in the same column using the expression syntax, in other cases an additional column with a name suffix '\_term' has been added. In the standard reference set files only the identifier is present in the column and there is no added column for the term. When using reference sets, the term and other details of the component are looked up from the relevant component release files.
{% endhint %}

#### Descriptor Template

The table below shows the descriptor that defines the structure of the [900000000000456007 |Reference set descriptor|](http://snomed.info/id/900000000000456007) . Note that this descriptor is itself part of the [900000000000456007 |Reference set descriptor|](http://snomed.info/id/900000000000456007) that it describes!

<table data-full-width="true"><thead><tr><th width="221.890625"></th><th width="213.8046875"></th><th width="255.234375"></th><th width="235.77813720703125"></th><th width="100.59063720703125"></th></tr></thead><tbody><tr><td><strong>refsetId</strong></td><td><strong>referencedComponentId (Referenced component)</strong></td><td><strong>attributeDescription (Attribute description)</strong></td><td><strong>attributeType (Attribute type)</strong></td><td><strong>attributeOrder (Attribute order)</strong></td></tr><tr><td><a href="http://snomed.info/id/900000000000456007">900000000000456007 |Reference set descriptor|</a></td><td><a href="http://snomed.info/id/900000000000456007">900000000000456007 |Reference set descriptor|</a></td><td><a href="http://snomed.info/id/449608002">449608002 |Referenced component|</a></td><td><a href="http://snomed.info/id/900000000000461009">900000000000461009 |Concept type component|</a></td><td>0</td></tr><tr><td><a href="http://snomed.info/id/900000000000456007">900000000000456007 |Reference set descriptor|</a></td><td><a href="http://snomed.info/id/900000000000456007">900000000000456007 |Reference set descriptor|</a></td><td><a href="http://snomed.info/id/900000000000458008">900000000000458008 |Attribute description|</a></td><td><a href="http://snomed.info/id/900000000000461009">900000000000461009 |Concept type component|</a></td><td>1</td></tr><tr><td><a href="http://snomed.info/id/900000000000456007">900000000000456007 |Reference set descriptor|</a></td><td><a href="http://snomed.info/id/900000000000456007">900000000000456007 |Reference set descriptor|</a></td><td><a href="http://snomed.info/id/900000000000459000">900000000000459000 |Attribute type|</a></td><td><a href="http://snomed.info/id/900000000000461009">900000000000461009 |Concept type component|</a></td><td>2</td></tr><tr><td><a href="http://snomed.info/id/900000000000456007">900000000000456007 |Reference set descriptor|</a></td><td><a href="http://snomed.info/id/900000000000456007">900000000000456007 |Reference set descriptor|</a></td><td><a href="http://snomed.info/id/900000000000479008">900000000000479008 |Attribute order|</a></td><td><a href="http://snomed.info/id/900000000000478000">900000000000478000 |Unsigned integer|</a></td><td>3</td></tr></tbody></table>

***

<figure><img src="../../../5%20reference-set-release-files-specification/5.2%20reference-set-types/5.2.4%20metadata-reference-sets/plugins/servlet/confluence/placeholder/unknown-macro" alt=""><figcaption></figcaption></figure>
