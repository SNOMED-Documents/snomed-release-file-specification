# MRCM Attribute Range Reference Set

## Purpose

An [723592007 |MRCM attribute range reference set|](http://snomed.info/id/723592007) allows attributes to be associated with a valid value range for a given SNOMED CT content type and rule strength. The range of each attribute is defined using an Expression Constraint. This expression constraint represents the set of concepts, expressions, or concrete values that may be used as the value of the given attribute.[1](https://confluence.ihtsdotools.org/display/DOCMRCM/5.3+MRCM+Attribute+Range+Reference+Set#Footnote1)\
The [723592007 |MRCM attribute range reference set|](http://snomed.info/id/723592007) also provides a summary of the concept model rule associated with each attribute (including all valid domains and the given range) using an Expression Constraint representation. This attribute rule can be completely auto-generated by combining information from the [723604009 |MRCM attribute domain reference set|](http://snomed.info/id/723604009) and the [723592007 | MRCM attribute range reference set|](http://snomed.info/id/723592007) .

## Data Structure

An [723592007 |MRCM attribute range reference set|](http://snomed.info/id/723592007) is structured as shown in the following table.

<table data-header-hidden data-full-width="true"><thead><tr><th width="208.015625"></th><th width="94.0859375"></th><th width="252.32421875"></th><th width="89.25390625"></th><th width="144.0390625"></th></tr></thead><tbody><tr><td><strong>Field</strong></td><td><strong>Data type</strong></td><td><strong>Purpose</strong></td><td><strong>Mutable</strong></td><td><strong>Part of Primary Key</strong></td></tr><tr><td>id</td><td>UUID</td><td><p>A 128 bit unsigned Integer, uniquely identifying this reference set member.</p><p>Different versions of a <em>reference set member</em> share the same id but have different effectiveTime. This allows a <em>reference set member</em> to be modified or made inactive (i.e. removed from the active set) at a specified time.</p></td><td><mark style="color:$danger;">NO</mark></td><td><mark style="color:$success;">YES</mark> <br>(Full /Snapshot)</td></tr><tr><td>effectiveTime</td><td>Time</td><td><p>The inclusive date or time at which this version of the identified reference set member became the current version.</p><p><strong>Note</strong>: In distribution files the effectiveTime should follow the short ISO date format (<em>YYYYMMDD</em>) and should not include the hours, minutes, seconds or timezone indicator.</p><p>The current version of this reference set member at time <em>T</em> is the version with the most recent effectiveTime prior to or equal to time <em>T</em>.</p></td><td><mark style="color:$success;">YES</mark> </td><td><p><mark style="color:$success;">YES</mark> <br>(Full)</p><p><mark style="color:$success;">Optional</mark> (Snapshot) </p></td></tr><tr><td>active</td><td>Boolean</td><td><p>The state of the identified reference set member as at the specified effectiveTime .</p><p>If active = 1 (true) the reference set member is part of the current version of the set, if active = 0 (false) the reference set member is not part of the current version of the set.</p></td><td><mark style="color:$success;">YES</mark> </td><td><mark style="color:$danger;">NO</mark></td></tr><tr><td>moduleId</td><td>SCTID</td><td><p>Identifies the SNOMED CT module that contains this reference set member as at the specified effectiveTime .</p><p>The value must be a subtype of <a href="http://snomed.info/id/900000000000443000">900000000000443000 |Module (core metadata concept)|</a> within the metadata hierarchy.</p></td><td><mark style="color:$success;">YES</mark> </td><td><mark style="color:$danger;">NO</mark></td></tr><tr><td>refsetId</td><td>SCTID</td><td><p>Identifies the reference set to which this reference set member belongs.</p><p>In this case, a subtype descendant of: <a href="http://snomed.info/id/723592007">723592007 |MRCM attribute range reference set|</a></p></td><td><mark style="color:$danger;">NO</mark></td><td><mark style="color:$danger;">NO</mark></td></tr><tr><td>referencedComponentId</td><td>SCTID</td><td>A reference to the SNOMED CT component to be included in the reference set. A reference to the SNOMED CT attribute concept to which the range defined by this member applies.</td><td><mark style="color:$danger;">NO</mark></td><td><mark style="color:$danger;">NO</mark></td></tr><tr><td>rangeConstraint</td><td>String</td><td><p>A parsable string, which defines the valid set of values that may be used for the given attribute (identified by the referencedComponentId).</p><p>If the attribute in the referencedComponentId is a subtype of <a href="http://snomed.info/id/762705008">762705008 |Concept model object attribute (attribute)|</a> then the rangeConstraint must be an <strong>expression constraint</strong>, which can be parsed using the ABNF rules defined by the  Expression Constraint Language.</p><p>If the attribute in the referencedComponentId is a subtype of <a href="http://snomed.info/id/762706009">762706009 |Concept model data attribute (attribute)|</a> then the rangeConstraint must be parsable using the <strong>concreteValueReplacement</strong> ABNF rule specified in the SNOMED CT Template Syntax. For example, the following rangeConstraint includes the set of all positive integers: <strong>int</strong> (>#0..)</p></td><td><mark style="color:$success;">YES</mark></td><td><mark style="color:$danger;">NO</mark></td></tr><tr><td>attributeType</td><td>SCTID</td><td><p>Specifies the data type of this attribute in the reference set to which this descriptor applies.</p><p>Set to a descendant of <a href="http://snomed.info/id/900000000000459000">900000000000459000 |attribute type (foundation metadata concept)|</a> in the metadata hierarchy, that describes the type of the additional attribute extending the reference set .</p></td><td><mark style="color:$success;">YES</mark></td><td><mark style="color:$danger;">NO</mark></td></tr><tr><td>attributeOrder</td><td>integer</td><td><p>Specifies the position of this attribute in the reference set to which this descriptor applies. A zero value identifies the referencedComponentId within the reference set. Other values specify an additional attributes by its position relative to the referencedComponentId. Within a particular descriptor, attributeOrder values for a particular referencedComponentId must be contiguous.</p><p>An unsigned Integer, providing an ordering for the additional attributes extending the reference set .</p></td><td><mark style="color:$success;">YES</mark></td><td><mark style="color:$danger;">NO</mark></td></tr></tbody></table>

## Metadata

The following metadata hierarchy supports this reference set:

* [900000000000454005 | Foundation metadata concept|](http://snomed.info/id/900000000000454005)
  * [900000000000455006 | Reference set|](http://snomed.info/id/900000000000455006)
    * [723564002 | MRCM reference set|](http://snomed.info/id/723564002)
  * ```
      *         * [ 723592007 | MRCM attribute range reference set|](http://snomed.info/id/723592007 "723592007 | MRCM attribute range reference set |")

    * [ 723562003 | MRCM attribute range international reference set|](http://snomed.info/id/723562003 "723562003 | MRCM attribute range international reference set |")
    ```
  * [900000000000457003 | Reference set attribute|](http://snomed.info/id/900000000000457003)
    * [723576002 | Attribute rule|](http://snomed.info/id/723576002)
    * [723574004 | Content type|](http://snomed.info/id/723574004) [2](https://confluence.ihtsdotools.org/display/DOCMRCM/5.3+MRCM+Attribute+Range+Reference+Set#Footnote2)
      * [723593002 | All new precoordinated SNOMED CT content|](http://snomed.info/id/723593002)
        * [723594008 | All precoordinated SNOMED CT content|](http://snomed.info/id/723594008)
          * [723596005 | All SNOMED CT content|](http://snomed.info/id/723596005)
      * [723595009 | All postcoordinated SNOMED CT content|](http://snomed.info/id/723595009)
* ```
  *       *         *           * [ 723596005 | All SNOMED CT content|](http://snomed.info/id/723596005 "723596005 | All SNOMED CT content |")
  ```
  * [723575003 | Range constraint|](http://snomed.info/id/723575003)
  * [723573005 | Concept model rule strength|](http://snomed.info/id/723573005)
    * [723597001 | Mandatory concept model rule|](http://snomed.info/id/723597001)
    * [723598006 | Optional concept model rule|](http://snomed.info/id/723598006)

***

| Footnotes Ref                                                                                                    | Notes                                                                                                                                                                                                              |
| ---------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| [1](https://confluence.ihtsdotools.org/display/DOCMRCM/5.3+MRCM+Attribute+Range+Reference+Set#FootnoteMarker1-0) | If ranges including concrete values (such as integers or strings) are required, the Expression Constraint Language can be extended, as described for _rangeConstraint_ in the Data Structure section on this page. |
| [2](https://confluence.ihtsdotools.org/display/DOCMRCM/5.3+MRCM+Attribute+Range+Reference+Set#FootnoteMarker2-0) | Please note that the \[ 723574004                                                                                                                                                                                  |

***

## Reference Set Descriptor and Example Data

### Descriptor Template

The table below shows the reference set descriptor for a reference set that follows the [723592007 | MRCM attribute range reference set|](http://snomed.info/id/723592007) pattern.

| **refsetId**          | **referencedComponentId** | **attributeDescription**                                        | **attributeType**        | **attribute Order** |
| --------------------- | ------------------------- | --------------------------------------------------------------- | ------------------------ | ------------------- |
| \[ 900000000000456007 | Reference set descriptor  | ]\(http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor | ")                  |
| \[ 900000000000456007 | Reference set descriptor  | ]\(http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor | ")                  |
| \[ 900000000000456007 | Reference set descriptor  | ]\(http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor | ")                  |
| \[ 900000000000456007 | Reference set descriptor  | ]\(http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor | ")                  |
| \[ 900000000000456007 | Reference set descriptor  | ]\(http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor | ")                  |

### Example Data

The table below shows some example rows from a reference set that follows the format of the [723592007 | MRCM attribute range reference set|](http://snomed.info/id/723592007) .

| **refsetId** | **referencedComponentId**                        | **rangeConstraint**                           | **attributeRule**                                | **ruleStrengthId** | **contentTypeId** |
| ------------ | ------------------------------------------------ | --------------------------------------------- | ------------------------------------------------ | ------------------ | ----------------- |
| \[ 723562003 | MRCM attribute range international reference set | ]\(http://snomed.info/id/723562003 "723562003 | MRCM attribute range international reference set | ")                 | \[ 255234002      |
| \[ 723562003 | MRCM attribute range international reference set | ]\(http://snomed.info/id/723562003 "723562003 | MRCM attribute range international reference set | ")                 | \[ 408729009      |
| \[ 723562003 | MRCM attribute range international reference set | ]\(http://snomed.info/id/723562003 "723562003 | MRCM attribute range international reference set | ")                 | \[ 272741003      |
