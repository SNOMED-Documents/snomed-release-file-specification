# 5.2.4.6 MRCM Attribute Range Reference Set

# Purpose

An [ 723592007 | MRCM attribute range reference set|](http://snomed.info/id/723592007 "723592007 | MRCM attribute range reference set |") allows attributes to be associated with a valid value range for a given SNOMED CT content type and rule strength. The range of each attribute is defined using an Expression Constraint. This expression constraint represents the set of concepts, expressions, or concrete values that may be used as the value of the given attribute.[1](https://confluence.ihtsdotools.org/display/DOCMRCM/5.3+MRCM+Attribute+Range+Reference+Set#Footnote1 "Footnote: Click here to display the footnote")   
The [ 723592007 | MRCM attribute range reference set|](http://snomed.info/id/723592007 "723592007 | MRCM attribute range reference set |") also provides a summary of the concept model rule associated with each attribute (including all valid domains and the given range) using an Expression Constraint representation. This attribute rule can be completely auto-generated by combining information from the  [ 723604009 | MRCM attribute domain reference set|](http://snomed.info/id/723604009 "723604009 | MRCM attribute domain reference set |") and the  [ 723592007 | MRCM attribute range reference set|](http://snomed.info/id/723592007 "723592007 | MRCM attribute range reference set |") .

# Data Structure

An [ 723592007 | MRCM attribute range reference set|](http://snomed.info/id/723592007 "723592007 | MRCM attribute range reference set |") is structured as shown in the following table.

**Field**| **Data type**| **Purpose**| **[Mutable](https://confluence.ihtsdotools.org/display/DOCGLOSS/Mutable "Glossary link: Mutable")**| **Part of Primary Key**  
---|---|---|---|---  
id| [UUID](https://confluence.ihtsdotools.org/display/DOCRELFMT/UUID+\(data+type\) "Reference term: UUID \(\(data type\)\)")| A 128 bit unsigned [Integer](https://confluence.ihtsdotools.org/display/DOCRELFMT/Integer+\(data+type\) "Reference term: Integer \(\(data type\)\)"), uniquely identifying this [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member").Different versions of a _reference set member_ share the same [id](https://confluence.ihtsdotools.org/display/DOCRELFMT/id+\(field\) "Reference term: id \(\(field\)\)") but have different [effectiveTime](https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\(field\) "Reference term: effectiveTime \(\(field\)\)"). This allows a _reference set member_ to be modified or made [inactive](https://confluence.ihtsdotools.org/display/DOCRELFMT/inactive+\(field\) "Reference term: inactive \(field\)") (i.e. removed from the active set) at a specified time.   
| NO| YES (Full /Snapshot)  
[effectiveTime](https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\(field\) "Reference term: effectiveTime \(\(field\)\)")| [Time](https://confluence.ihtsdotools.org/display/DOCRELFMT/Time+\(data+type\) "Reference term: Time \(\(data type\)\)")| The inclusive date or time at which this version of the identified [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") became the current version.**Note** : In distribution files the effectiveTime should follow the short ISO date format (_YYYYMM _DD__) and should not include the hours, minutes, seconds or timezone indicator.The current version of this [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") at time _T_ is the version with the most recent [effectiveTime](https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\(field\) "Reference term: effectiveTime \(\(field\)\)") prior to or equal to time _T_ .   
| YES| YES (Full)Optional (Snapshot)   
[active](https://confluence.ihtsdotools.org/display/DOCRELFMT/active+\(field\) "Reference term: active \(\(field\)\)")| [Boolean](https://confluence.ihtsdotools.org/display/DOCRELFMT/Boolean+\(data+type\) "Reference term: Boolean \(\(data type\)\)")| The state of the identified [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") as at the specified [effectiveTime](https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\(field\) "Reference term: effectiveTime \(\(field\)\)") .If [active](https://confluence.ihtsdotools.org/display/DOCRELFMT/active+\(field\) "Reference term: active \(\(field\)\)") = 1 (true) the [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") is part of the current version of the set, if [active](https://confluence.ihtsdotools.org/display/DOCRELFMT/active+\(field\) "Reference term: active \(\(field\)\)") = 0 (false) the [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") is not part of the current version of the set.   
| YES| NO  
[moduleId](https://confluence.ihtsdotools.org/display/DOCRELFMT/moduleId+\(field\) "Reference term: moduleId \(\(field\)\)")| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(\(data type\)\)")| Identifies the [SNOMED CT module](https://confluence.ihtsdotools.org/display/DOCGLOSS/SNOMED+CT+module "Glossary link: SNOMED CT module") that contains this [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") as at the specified [effectiveTime](https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\(field\) "Reference term: effectiveTime \(\(field\)\)") .The value must be a [subtype](https://confluence.ihtsdotools.org/display/DOCGLOSS/subtype "Glossary link: subtype") of [ 900000000000443000 | Module (core metadata concept)|](http://snomed.info/id/900000000000443000 "900000000000443000 | Module \(core metadata concept\) |") within the metadata [hierarchy](https://confluence.ihtsdotools.org/display/DOCGLOSS/hierarchy "Glossary link: hierarchy").   
| YES| NO  
[refsetId](https://confluence.ihtsdotools.org/display/DOCRELFMT/refsetId+\(field\) "Reference term: refsetId \(\(field\)\)")| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(\(data type\)\)")| Identifies the [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference set") to which this [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") belongs. In this case, a subtype descendant of: [ 723592007 | MRCM attribute range reference set|](http://snomed.info/id/723592007 "723592007 | MRCM attribute range reference set |") | NO| NO  
[referencedComponentId](https://confluence.ihtsdotools.org/display/DOCRELFMT/referencedComponentId+\(field\) "Reference term: referencedComponentId \(\(field\)\)")| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(\(data type\)\)")| A reference to the [SNOMED CT component](https://confluence.ihtsdotools.org/display/DOCGLOSS/SNOMED+CT+component "Glossary link: SNOMED CT component") to be included in the [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference set"). A reference to the SNOMED CT attribute concept to which the range defined by this member applies.| NO| NO  
rangeConstraint| [string](https://confluence.ihtsdotools.org/display/DOCRELFMT/string+\(data+type\) "Reference term: string \(data type\)")| A parsable string, which defines the valid set of values that may be used for the given attribute (identified by the referencedComponentId).If the attribute in the referencedComponentId is a subtype of [ 762705008 | Concept model object attribute (attribute)|](http://snomed.info/id/762705008 "762705008 | Concept model object attribute \(attribute\) |") then the rangeConstraint must be an **expression constraint** , which can be parsed using the ABNF rules defined by the [Expression Constraint Language](https://snomed.org/ecl) .If the attribute in the referencedComponentId is a subtype of [ 762706009 | Concept model data attribute (attribute)|](http://snomed.info/id/762706009 "762706009 | Concept model data attribute \(attribute\) |") then the rangeConstraint must be parsable using the **concreteValueReplacement** ABNF rule specified in the [SNOMED CT Template Syntax](https://confluence.ihtsdotools.org/pages/viewpage.action?pageId=34870052). For example, the following rangeConstraint includes the set of all positive integers:**int** (>#0..)| YES| NO  
attributeRule| [string](https://confluence.ihtsdotools.org/display/DOCRELFMT/string+\(data+type\) "Reference term: string \(data type\)")| An Expression Constraint that captures the domain, range and cardinality constraints for the given attribute, rule strength and content type.   
This string can be parsed using the ABNF syntax defined for the [Expression Constraint Language](https://snomed.org/ecl) .   
If ranges with concrete values are required, the Expression Constraint Language can be extended as described above (for rangeConstraint).| YES| NO  
ruleStrengthId| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(\(data type\)\)")| A subtype of [ 723573005 | Concept model rule strength|](http://snomed.info/id/723573005 "723573005 | Concept model rule strength |") which specifies whether the given rule is mandatory (resulting in an error) or optional (resulting in a warning).| YES| NO  
contentTypeId| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(\(data type\)\)")| A subtype of [ 723574004 | Content type|](http://snomed.info/id/723574004 "723574004 | Content type |") which indicates the type of SNOMED CT content over which this rule applies.| YES| NO  
  
# Metadata

The following metadata hierarchy supports this reference set:

  * [ 900000000000454005 | Foundation metadata concept|](http://snomed.info/id/900000000000454005 "900000000000454005 | Foundation metadata concept |")

    * [ 900000000000455006 | Reference set|](http://snomed.info/id/900000000000455006 "900000000000455006 | Reference set |")

      * [ 723564002 | MRCM reference set|](http://snomed.info/id/723564002 "723564002 | MRCM reference set |")

    *       *         * [ 723592007 | MRCM attribute range reference set|](http://snomed.info/id/723592007 "723592007 | MRCM attribute range reference set |")

          * [ 723562003 | MRCM attribute range international reference set|](http://snomed.info/id/723562003 "723562003 | MRCM attribute range international reference set |")

    * [ 900000000000457003 | Reference set attribute|](http://snomed.info/id/900000000000457003 "900000000000457003 | Reference set attribute |")

      * [ 723576002 | Attribute rule|](http://snomed.info/id/723576002 "723576002 | Attribute rule |")

      * [ 723574004 | Content type|](http://snomed.info/id/723574004 "723574004 | Content type |") [2](https://confluence.ihtsdotools.org/display/DOCMRCM/5.3+MRCM+Attribute+Range+Reference+Set#Footnote2 "Footnote: Click here to display the footnote")

        * [ 723593002 | All new precoordinated SNOMED CT content|](http://snomed.info/id/723593002 "723593002 | All new precoordinated SNOMED CT content |")

          * [ 723594008 | All precoordinated SNOMED CT content|](http://snomed.info/id/723594008 "723594008 | All precoordinated SNOMED CT content |")

            * [ 723596005 | All SNOMED CT content|](http://snomed.info/id/723596005 "723596005 | All SNOMED CT content |")

        * [ 723595009 | All postcoordinated SNOMED CT content|](http://snomed.info/id/723595009 "723595009 | All postcoordinated SNOMED CT content |")

  *     *       *         *           * [ 723596005 | All SNOMED CT content|](http://snomed.info/id/723596005 "723596005 | All SNOMED CT content |")

      * [ 723575003 | Range constraint|](http://snomed.info/id/723575003 "723575003 | Range constraint |")

      * [ 723573005 | Concept model rule strength|](http://snomed.info/id/723573005 "723573005 | Concept model rule strength |")

        * [ 723597001 | Mandatory concept model rule|](http://snomed.info/id/723597001 "723597001 | Mandatory concept model rule |")

        * [ 723598006 | Optional concept model rule|](http://snomed.info/id/723598006 "723598006 | Optional concept model rule |")

* * *

  
Footnotes Ref | Notes  
---|---  
[1](https://confluence.ihtsdotools.org/display/DOCMRCM/5.3+MRCM+Attribute+Range+Reference+Set#FootnoteMarker1-0 "Footnote: Click to return to reference in text") |  If ranges including concrete values (such as integers or strings) are required, the Expression Constraint Language can be extended, as described for _rangeConstraint_ in the Data Structure section on this page.  
[2](https://confluence.ihtsdotools.org/display/DOCMRCM/5.3+MRCM+Attribute+Range+Reference+Set#FootnoteMarker2-0 "Footnote: Click to return to reference in text") |  Please note that the [ 723574004 | Content type|](http://snomed.info/id/723574004 "723574004 | Content type |") hierarchy is designed using 'universal restriction' logic. The hierarchy may therefore appear to be 'upside down'. However, it was designed in this way because if an MRCM rule applies to [ 723596005 | All SNOMED CT content|](http://snomed.info/id/723596005 "723596005 | All SNOMED CT content |") then it also applies to the Content Types that are a supertype of this - including [ 723594008 | All precoordinated SNOMED CT content|](http://snomed.info/id/723594008 "723594008 | All precoordinated SNOMED CT content |") and [ 723595009 | All postcoordinated SNOMED CT content|](http://snomed.info/id/723595009 "723595009 | All postcoordinated SNOMED CT content |") .  
  
* * *

# Reference Set Descriptor and Example Data

## Descriptor Template

The table below shows the reference set descriptor for a reference set that follows the [ 723592007 | MRCM attribute range reference set|](http://snomed.info/id/723592007 "723592007 | MRCM attribute range reference set |") pattern. 

**refsetId**| **referencedComponentId**| **attributeDescription**| **attributeType**| **attribute Order**  
---|---|---|---|---  
[ 900000000000456007 | Reference set descriptor|](http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor |") |  [ 723592007 | MRCM attribute range reference set|](http://snomed.info/id/723592007 "723592007 | MRCM attribute range reference set |") |  [ 449608002 | Referenced component|](http://snomed.info/id/449608002 "449608002 | Referenced component |") |  [ 900000000000461009 | Concept type component|](http://snomed.info/id/900000000000461009 "900000000000461009 | Concept type component |") | 0  
[ 900000000000456007 | Reference set descriptor|](http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor |") |  [ 723592007 | MRCM attribute range reference set|](http://snomed.info/id/723592007 "723592007 | MRCM attribute range reference set |") |  [ 723575003 | Range constraint|](http://snomed.info/id/723575003 "723575003 | Range constraint |") |  [ 707000009 | SNOMED CT parsable string|](http://snomed.info/id/707000009 "707000009 | SNOMED CT parsable string |") | 1  
[ 900000000000456007 | Reference set descriptor|](http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor |") |  [ 723592007 | MRCM attribute range reference set|](http://snomed.info/id/723592007 "723592007 | MRCM attribute range reference set |") |  [ 723576002 | Attribute rule|](http://snomed.info/id/723576002 "723576002 | Attribute rule |") |  [ 707000009 | SNOMED CT parsable string|](http://snomed.info/id/707000009 "707000009 | SNOMED CT parsable string |") | 2  
[ 900000000000456007 | Reference set descriptor|](http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor |") |  [ 723592007 | MRCM attribute range reference set|](http://snomed.info/id/723592007 "723592007 | MRCM attribute range reference set |") |  [ 723573005 | Concept model rule strength|](http://snomed.info/id/723573005 "723573005 | Concept model rule strength |") |  [ 900000000000461009 | Concept type component|](http://snomed.info/id/900000000000461009 "900000000000461009 | Concept type component |") | 3  
[ 900000000000456007 | Reference set descriptor|](http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor |") |  [ 723592007 | MRCM attribute range reference set|](http://snomed.info/id/723592007 "723592007 | MRCM attribute range reference set |") |  [ 723574004 | Content type|](http://snomed.info/id/723574004 "723574004 | Content type |") |  [ 900000000000461009 | Concept type component|](http://snomed.info/id/900000000000461009 "900000000000461009 | Concept type component |") | 4  
  
## Example Data

The table below shows some example rows from a reference set that follows the format of the [ 723592007 | MRCM attribute range reference set|](http://snomed.info/id/723592007 "723592007 | MRCM attribute range reference set |") .

**refsetId**| **referencedComponentId**| **rangeConstraint**| **attributeRule**| **ruleStrengthId**| **contentTypeId**  
---|---|---|---|---|---  
[ 723562003 | MRCM attribute range international reference set|](http://snomed.info/id/723562003 "723562003 | MRCM attribute range international reference set |") |  [ 255234002 | After|](http://snomed.info/id/255234002 "255234002 | After |") |  << [ 404684003 |Clinical finding (finding)|](http://snomed.info/id/404684003 "404684003 | Clinical finding \(finding\) |") OR << [ 71388002 |Procedure (procedure)|](http://snomed.info/id/71388002 "71388002 | Procedure \(procedure\) |") |  (<< [ 404684003 |Clinical finding (finding)|](http://snomed.info/id/404684003 "404684003 | Clinical finding \(finding\) |") OR << [ 272379006 |Event (event)|](http://snomed.info/id/272379006 "272379006 | Event \(event\) |") ): [0..*] { [0..*]  [ 255234002 |After|](http://snomed.info/id/255234002 "255234002 | After |") = (<< [ 404684003 |Clinical finding (finding)|](http://snomed.info/id/404684003 "404684003 | Clinical finding \(finding\) |") OR << [ 71388002 |Procedure (procedure)|](http://snomed.info/id/71388002 "71388002 | Procedure \(procedure\) |") )} |  [ 723597001 | Mandatory concept model rule|](http://snomed.info/id/723597001 "723597001 | Mandatory concept model rule |") |  [ 723596005 | All SNOMED CT content|](http://snomed.info/id/723596005 "723596005 | All SNOMED CT content |")  
[ 723562003 | MRCM attribute range international reference set|](http://snomed.info/id/723562003 "723562003 | MRCM attribute range international reference set |") |  [ 408729009 | Finding context|](http://snomed.info/id/408729009 "408729009 | Finding context |") |  << [ 410514004 | Finding context value (qualifier value)|](http://snomed.info/id/410514004 "410514004 | Finding context value \(qualifier value\) |") |  << [ 413350009 |Finding with explicit context (situation)|](http://snomed.info/id/413350009 "413350009 | Finding with explicit context \(situation\) |") : [0..*] { [0..1]  [ 408729009 |Finding context|](http://snomed.info/id/408729009 "408729009 | Finding context |") = << [ 410514004 |Finding context value (qualifier value)|](http://snomed.info/id/410514004 "410514004 | Finding context value \(qualifier value\) |") } |  [ 723597001 | Mandatory concept model rule|](http://snomed.info/id/723597001 "723597001 | Mandatory concept model rule |") |  [ 723596005 | All SNOMED CT content|](http://snomed.info/id/723596005 "723596005 | All SNOMED CT content |")  
[ 723562003 | MRCM attribute range international reference set|](http://snomed.info/id/723562003 "723562003 | MRCM attribute range international reference set |") |  [ 272741003 | Laterality|](http://snomed.info/id/272741003 "272741003 | Laterality |") |  << [ 182353008 | Side (qualifier value)|](http://snomed.info/id/182353008 "182353008 | Side \(qualifier value\) |") |  << [ 91723000 |Anatomical structure (body structure)|](http://snomed.info/id/91723000 "91723000 | Anatomical structure \(body structure\) |") : [0..1]  [ 272741003 |Laterality|](http://snomed.info/id/272741003 "272741003 | Laterality |") = << [ 182353008 |Side (qualifier value)|](http://snomed.info/id/182353008 "182353008 | Side \(qualifier value\) |") |  [ 723597001 | Mandatory concept model rule|](http://snomed.info/id/723597001 "723597001 | Mandatory concept model rule |") |  [ 723596005 | All SNOMED CT content|](http://snomed.info/id/723596005 "723596005 | All SNOMED CT content |")
