# 5.2.1.5 Ordered Association Reference Set

# Purpose

An [ 733618005 | Ordered association type reference set (foundation metadata concept)|](http://snomed.info/id/733618005 "733618005 | Ordered association type reference set \(foundation metadata concept\) |") can be used to specify ordered associations between different [components](https://confluence.ihtsdotools.org/display/DOCGLOSS/component "Glossary link: components"). These can be used to specify several interrelated subsets of components and to define alternative hierarchies for navigation while searching for an appropriate [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept") or [description](https://confluence.ihtsdotools.org/display/DOCGLOSS/description "Glossary link: description").

# Data structure

An [Ordered association reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/Ordered+association+reference+set "Glossary link: Ordered association reference set") is a [component](https://confluence.ihtsdotools.org/display/DOCGLOSS/component "Glossary link: component") [integer](https://confluence.ihtsdotools.org/display/WIPRELFMT/Integer+\(data+type\)) [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference set") that is used to represent ordered lists of associations and alternative hierarchies. Its structure is shown in the following table. 

Table 5.2.1.5-1: Ordered association reference set - Data structure

**Field**| **Data type**| **Purpose**| **[Mutable](https://confluence.ihtsdotools.org/display/DOCGLOSS/Mutable "Glossary link: Mutable")**| **Part of Primary Key**  
---|---|---|---|---  
id| [UUID](https://confluence.ihtsdotools.org/display/DOCRELFMT/UUID+\(data+type\) "Reference term: UUID \(\(data type\)\)")| A 128 bit unsigned [Integer](https://confluence.ihtsdotools.org/display/DOCRELFMT/Integer+\(data+type\) "Reference term: Integer \(\(data type\)\)"), uniquely identifying this [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member").Different versions of a _reference set member_ share the same [id](https://confluence.ihtsdotools.org/display/DOCRELFMT/id+\(field\) "Reference term: id \(\(field\)\)") but have different [effectiveTime](https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\(field\) "Reference term: effectiveTime \(\(field\)\)"). This allows a _reference set member_ to be modified or made [inactive](https://confluence.ihtsdotools.org/display/DOCRELFMT/inactive+\(field\) "Reference term: inactive \(field\)") (i.e. removed from the active set) at a specified time.   
| NO| YES (Full /Snapshot)  
[effectiveTime](https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\(field\) "Reference term: effectiveTime \(\(field\)\)")| [Time](https://confluence.ihtsdotools.org/display/DOCRELFMT/Time+\(data+type\) "Reference term: Time \(\(data type\)\)")| The inclusive date or time at which this version of the identified [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") became the current version.**Note** : In distribution files the effectiveTime should follow the short ISO date format (_YYYYMM _DD__) and should not include the hours, minutes, seconds or timezone indicator.The current version of this [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") at time _T_ is the version with the most recent [effectiveTime](https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\(field\) "Reference term: effectiveTime \(\(field\)\)") prior to or equal to time _T_ .   
| YES| YES (Full)Optional (Snapshot)   
[active](https://confluence.ihtsdotools.org/display/DOCRELFMT/active+\(field\) "Reference term: active \(\(field\)\)")| [Boolean](https://confluence.ihtsdotools.org/display/DOCRELFMT/Boolean+\(data+type\) "Reference term: Boolean \(\(data type\)\)")| The state of the identified [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") as at the specified [effectiveTime](https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\(field\) "Reference term: effectiveTime \(\(field\)\)") .If [active](https://confluence.ihtsdotools.org/display/DOCRELFMT/active+\(field\) "Reference term: active \(\(field\)\)") = 1 (true) the [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") is part of the current version of the set, if [active](https://confluence.ihtsdotools.org/display/DOCRELFMT/active+\(field\) "Reference term: active \(\(field\)\)") = 0 (false) the [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") is not part of the current version of the set.   
| YES| NO  
[moduleId](https://confluence.ihtsdotools.org/display/DOCRELFMT/moduleId+\(field\) "Reference term: moduleId \(\(field\)\)")| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(\(data type\)\)")| Identifies the [SNOMED CT module](https://confluence.ihtsdotools.org/display/DOCGLOSS/SNOMED+CT+module "Glossary link: SNOMED CT module") that contains this [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") as at the specified [effectiveTime](https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\(field\) "Reference term: effectiveTime \(\(field\)\)") .The value must be a [subtype](https://confluence.ihtsdotools.org/display/DOCGLOSS/subtype "Glossary link: subtype") of [ 900000000000443000 | Module (core metadata concept)|](http://snomed.info/id/900000000000443000 "900000000000443000 | Module \(core metadata concept\) |") within the metadata [hierarchy](https://confluence.ihtsdotools.org/display/DOCGLOSS/hierarchy "Glossary link: hierarchy").   
| YES| NO  
[refsetId](https://confluence.ihtsdotools.org/display/DOCRELFMT/refsetId+\(field\) "Reference term: refsetId \(\(field\)\)")| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(\(data type\)\)")| Identifies the [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference set") to which this [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") belongs. In this case, a subtype descendant of: [ 447258008 | Ordered type reference set|](http://snomed.info/id/447258008 "447258008 | Ordered type reference set |") | NO| NO  
[referencedComponentId](https://confluence.ihtsdotools.org/display/DOCRELFMT/referencedComponentId+\(field\) "Reference term: referencedComponentId \(\(field\)\)")| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(\(data type\)\)")| A reference to the [SNOMED CT component](https://confluence.ihtsdotools.org/display/DOCGLOSS/SNOMED+CT+component "Glossary link: SNOMED CT component") to be included in the [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference set"). Refers to the source [component](https://confluence.ihtsdotools.org/display/DOCGLOSS/component "Glossary link: component") of the association.| NO| NO  
[targetComponentId](https://confluence.ihtsdotools.org/display/DOCRELFMT/targetComponentId+\(field\) "Reference term: targetComponentId \(\(field\)\)")| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(\(data type\)\)")| The identifier of the target [component](https://confluence.ihtsdotools.org/display/DOCGLOSS/component "Glossary link: component") of the association that acts as a grouper or hierarchy node, collecting together a subgroup from within the list.This field either enables [reference set member](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set+member "Glossary link: reference set member") linked into a number of subgroups. These subgroups can be nested allowing representation of alternative hierarchies.To link members into a subgroup, all components in the same subgroup should reference the same [component](https://confluence.ihtsdotools.org/display/DOCGLOSS/component "Glossary link: component"). This can either be a component that represents the name of that subgroup or the first member of the subgroup. In the latter case, the first row of each subgroup will contain the same identifier in [referencedComponentId](https://confluence.ihtsdotools.org/display/DOCRELFMT/referencedComponentId+\(field\) "Reference term: referencedComponentId \(\(field\)\)") and [targetComponentId](https://confluence.ihtsdotools.org/display/DOCRELFMT/targetComponentId+\(field\) "Reference term: targetComponentId \(field\)") and with [order](https://confluence.ihtsdotools.org/display/DOCRELFMT/order+\(field\) "Reference term: order \(\(field\)\)") =1.To link a number of [children](https://confluence.ihtsdotools.org/display/DOCGLOSS/children "Glossary link: children") [concepts](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concepts") to a single parent [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept"), one member record should exist per [child](https://confluence.ihtsdotools.org/display/DOCGLOSS/child "Glossary link: child"), with the [referencedComponentId](https://confluence.ihtsdotools.org/display/DOCRELFMT/referencedComponentId+\(field\) "Reference term: referencedComponentId \(\(field\)\)") field referencing the parent and this field referencing the [child](https://confluence.ihtsdotools.org/display/DOCGLOSS/child "Glossary link: child") [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept"). The [order](https://confluence.ihtsdotools.org/display/DOCRELFMT/order+\(field\) "Reference term: order \(\(field\)\)") field is then used to [order](https://confluence.ihtsdotools.org/display/DOCRELFMT/order+\(field\) "Reference term: order \(\(field\)\)") the [children](https://confluence.ihtsdotools.org/display/DOCGLOSS/children "Glossary link: children") [concepts](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concepts") under the parent [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept").| NO| NO  
[order](https://confluence.ihtsdotools.org/display/DOCRELFMT/order+\(field\) "Reference term: order \(\(field\)\)")| [integer](https://confluence.ihtsdotools.org/display/DOCRELFMT/integer+\(data+type\) "Reference term: integer \(data type\)")| Specifies the sort [order](https://confluence.ihtsdotools.org/display/DOCRELFMT/order+\(field\) "Reference term: order \(\(field\)\)") of the list. The list is ordered by applying an ascending sort of the [order](https://confluence.ihtsdotools.org/display/DOCRELFMT/order+\(field\) "Reference term: order \(\(field\)\)") value.The value of [order](https://confluence.ihtsdotools.org/display/DOCRELFMT/order+\(field\) "Reference term: order \(\(field\)\)") =1 represents the highest priority. A value of '0' is not allowed. Duplicate values are permitted and the sort order between two members with the same order value is not defined.If the [targetComponentId](https://confluence.ihtsdotools.org/display/DOCRELFMT/targetComponentId+\(field\) "Reference term: targetComponentId \(field\)") value is not 0, sorting occurs within subgroups that share the same [targetComponentId](https://confluence.ihtsdotools.org/display/DOCRELFMT/targetComponentId+\(field\) "Reference term: targetComponentId \(field\)").Note: The name "order" is a reserved word in some database environments. Please consider this when using this column.| YES| NO  
  
# Metadata

The following metadata in the "Foundation metadata [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept")" [hierarchy](https://confluence.ihtsdotools.org/display/DOCGLOSS/hierarchy "Glossary link: hierarchy") supports this [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference set"): 

Table 5.2.1.5-2: Ordered Association References Set in the Metadata Hierarchy

  
[ 900000000000454005 |Foundation metadata concept|](http://snomed.info/id/900000000000454005 "900000000000454005 | Foundation metadata concept |")   
[ 900000000000455006 |Reference set|](http://snomed.info/id/900000000000455006 "900000000000455006 | Reference set |")   
[ 733618005 |Ordered association type reference set (foundation metadata concept)|](http://snomed.info/id/733618005 "733618005 | Ordered association type reference set \(foundation metadata concept\) |")   
  

# Reference Set Descriptor and Example Data

## Descriptor Template

The tables below show the descriptor that defines the structure of the [ 447258008 | Ordered type reference set|](http://snomed.info/id/447258008 "447258008 | Ordered type reference set |") pattern and an example of descriptor for a specific [reference set](https://confluence.ihtsdotools.org/display/DOCGLOSS/reference+set "Glossary link: reference set") that follows this pattern. 

Table 5.2.1.5-3: Refset Descriptor rows for an ordered association type reference set

**refsetId**| **referencedComponentId**| **attributeDescription**| **attributeType**| **attributeOrder**  
---|---|---|---|---  
[ 900000000000456007 | Reference set descriptor|](http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor |") |  [ 733618005 | Ordered association type reference set (foundation metadata concept)|](http://snomed.info/id/733618005 "733618005 | Ordered association type reference set \(foundation metadata concept\) |") |  [ 449608002 | Referenced component|](http://snomed.info/id/449608002 "449608002 | Referenced component |") |  [ 900000000000460005 | Component type|](http://snomed.info/id/900000000000460005 "900000000000460005 | Component type |") | 0  
[ 900000000000456007 | Reference set descriptor|](http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor |") |  [ 733618005 | Ordered association type reference set (foundation metadata concept)|](http://snomed.info/id/733618005 "733618005 | Ordered association type reference set \(foundation metadata concept\) |") |  [ 900000000000533001 | Association target component|](http://snomed.info/id/900000000000533001 "900000000000533001 | Association target component |") |  [ 900000000000460005 | Component type|](http://snomed.info/id/900000000000460005 "900000000000460005 | Component type |") | 1  
[ 900000000000456007 | Reference set descriptor|](http://snomed.info/id/900000000000456007 "900000000000456007 | Reference set descriptor |") |  [ 733618005 | Ordered association type reference set (foundation metadata concept)|](http://snomed.info/id/733618005 "733618005 | Ordered association type reference set \(foundation metadata concept\) |") |  [ 447255006 | Priority order reference set attribute|](http://snomed.info/id/447255006 "447255006 | Priority order reference set attribute |") |  [ 900000000000478000 | Unsigned integer|](http://snomed.info/id/900000000000478000 "900000000000478000 | Unsigned integer |") | 2  
  
## Example

[Ordered association reference sets](https://confluence.ihtsdotools.org/display/DOCRFSPG/5.5+Ordered+Association+Reference+Set) can be used to specify and display a customized navigation hierarchy. Alternative hierarchical representations of SNOMED CT can support data entry by satisfying the requirements of a specific use case, and addressing some of the challenges of displaying an unordered polyhierarchy (as defined by SNOMED CT's subtype structure). 

The figure below shows the way a navigation hierarchy is represented. The example reference set contains a set of description components used to describe finger structures. 

The | All fingers | components is linked to the | Hand |, and the | Thumb | is linked to the | All fingers component | The | Thumb | is placed first because it has the order value 1. Similarly, the components for | Second finger |, | Third finger |, | Fourth finger | and | Fifth finger | are also linked to the | All finger | component in the order specified by the order value. As shown in the figure the direction of the associations goes from the referenceComponentId to the linkedToId, so the components referenced by the linkedToId are used to form the groups specified in the hierarchy 

id| effective Time| active| moduleId| refsetId| refsetId_term| referencedComponentId| referencedComponentId_term| targetComponentId| targetComponentId_term| order  
---|---|---|---|---|---|---|---|---|---|---  
…| 20160731| 1| 19999999103| 159999999105| Associations as ordered reference set| 70327001| All fingers| 141819019| Hand| 1  
…| 20160731| 1| 19999999103| 159999999105| Associations as ordered reference set| 127053016| Thumb| 70327001| All fingers| 1  
…| 20160731| 1| 19999999103| 159999999105| Associations as ordered reference set| 138873019| Second finger| 70327001| All fingers| 2  
…| 20160731| 1| 19999999103| 159999999105| Associations as ordered reference set| 108884010| Third finger| 70327001| All fingers| 3  
…| 20160731| 1| 19999999103| 159999999105| Associations as ordered reference set| 136021011| Fourth finger| 70327001| All fingers| 4  
…| 20160731| 1| 19999999103| 159999999105| Associations as ordered reference set| 21356012| Fifth finger| 70327001| All fingers| 5  
  

<figure><img src="attachments/35985573/45527047.png" alt="" title=""><figcaption><p>Figure 3.2.1.5-1: Navigation hierarchy example.</p></figcaption></figure>

  

  

