# Concept Definitions Represented as Relationships

Between the first release of SNOMED CT in 2002 and 2018 both stated and inferred views of concept definitions were distributed as defining relationships in the stated relationship file and the relationship file.

{% hint style="info" %}
**Glossary Definition**

A defining relationship is a relationship to a target concept that is always necessarily true for any instance of the source concept.

#### Notes <a href="#id-2.3.4.1conceptdefinitionsrepresentedasrelationships-notes" id="id-2.3.4.1conceptdefinitionsrepresentedasrelationships-notes"></a>

All _defining relationships_ represent necessary conditions.  However, some necessary conditions that can be represented by OWL Axioms cannot be represented by _relationships_.

#### Example <a href="#id-2.3.4.1conceptdefinitionsrepresentedasrelationships-example" id="id-2.3.4.1conceptdefinitionsrepresentedasrelationships-example"></a>

*   The _defining relationships_ of the concept [53442002 | Excision of stomach structure (procedure)|](https://browser.ihtsdotools.org/?perspective=full\&conceptId1=53442002\&edition=MAIN/2025-07-01\&release=\&languages=en\&latestRedirect=false) include

    260686004 <mark style="color:blue;">|</mark>method<mark style="color:blue;">|</mark>  <mark style="color:red;">=</mark>  129304002 <mark style="color:blue;">|</mark>excision - action<mark style="color:blue;">|</mark>  and 405813007 <mark style="color:blue;">|</mark>procedure site - Direct<mark style="color:blue;">|</mark>  <mark style="color:red;">=</mark>  69695003 <mark style="color:blue;">|</mark>stomach structure<mark style="color:blue;">|</mark>.
{% endhint %}

As illustrated in Figure 2.3.4.1-1, each defining relationship is represented by a row in the relationship file. The concept being defined is referenced by the sourceId, the concept that represents the type of relationship (attribute) is referenced by the typeId and the destinationId refers to the concept that represents the value of that attribute.

The relationship file also has a relationshipGroup which allows two or more defining relationships to be grouped together.

The definitionStatusId of the source concept, indicates whether the combination of defining relationships provide provides sufficient definition of that concept.

<figure><img src="../../../images/71172743.png" alt=""><figcaption><p>Figure 2.3.4.1-1: Diagrammatic representation of use of relationships to represent a concept definition</p></figcaption></figure>

Table 2.3.4.1-1, shows the three rows in the relationship file that represent the definition of [53442002 |Excision of stomach structure|](http://snomed.info/id/53442002). As this is considered to be a sufficient definition of <mark style="color:blue;">|</mark>Excision of stomach structure<mark style="color:blue;">|</mark> the definitionStatusId of this concept is set to the value 900000000000073002 <mark style="color:blue;">|</mark>defined<mark style="color:blue;">|</mark>.

Table 2.3.4.1-1: Example of stated view of <mark style="color:blue;">|</mark>Excision of stomach structure<mark style="color:blue;">|</mark> represented by stated relationships

<table data-header-hidden><thead><tr><th width="137.00390625"></th><th width="124.55078125" align="center"></th><th width="114.54296875" align="center"></th><th width="132.9921875" align="center"></th><th width="210.3125" align="center"></th></tr></thead><tbody><tr><td><strong>sourceId</strong></td><td align="center"><strong>destinationId</strong></td><td align="center"><strong>relationship Group</strong></td><td align="center"><strong>typeId</strong></td><td align="center"><strong>characteristicTypesId</strong></td></tr><tr><td>53442002 <mark style="color:blue;">|</mark>Excision of stomach structure<mark style="color:blue;">|</mark></td><td align="center"><p>116680003 </p><p><mark style="color:blue;">|</mark>Is a<mark style="color:blue;">|</mark></p></td><td align="center">0</td><td align="center">71388002 <mark style="color:blue;">|</mark>Procedure<mark style="color:blue;">|</mark></td><td align="center">900000000000010007 <mark style="color:blue;">|</mark>Stated relationship<mark style="color:blue;">|</mark></td></tr><tr><td>53442002 <mark style="color:blue;">|</mark>Excision of stomach structure<mark style="color:blue;">|</mark></td><td align="center">260686004 <mark style="color:blue;">|</mark>Method<mark style="color:blue;">|</mark></td><td align="center">1</td><td align="center">129304002 <mark style="color:blue;">|</mark>Excision - action<mark style="color:blue;">|</mark></td><td align="center">900000000000010007 <mark style="color:blue;">|</mark>Stated relationship<mark style="color:blue;">|</mark></td></tr><tr><td>53442002 <mark style="color:blue;">|</mark>Excision of stomach structure<mark style="color:blue;">|</mark></td><td align="center">405813007 <mark style="color:blue;">|</mark>Procedure site - Direct<mark style="color:blue;">|</mark></td><td align="center">1</td><td align="center">69695003 <mark style="color:blue;">|</mark>Stomach structure<mark style="color:blue;">|</mark></td><td align="center">900000000000010007 <mark style="color:blue;">|</mark>Stated relationship<mark style="color:blue;">|</mark></td></tr></tbody></table>

Some columns omitted: id, effectiveTime, active, moduleId and modifierId. Id columns are shown with the term expanded for clarity.

## Limitations of Relationships for Representing Concept Definitions

Section [Necessary Conditions and Sufficient Definitions](../2.3.2-necessary-conditions-and-sufficient-definitions.md), illustrated the following three points, which are not supported by the current use of [relationships](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship) to represent [concept definitions](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept+definition):

1. A concept may have more than one sufficient definition.
   * Use of relationships only supports representation of a single sufficient definition for each concept. If a concept is marked as sufficiently defined, all it relationships are considered to be part of its sufficient definition.
2. A concept may have a sufficient definition that includes some assertions that are not necessary conditions
   * Relationships are all assumed to be necessarily true.
3. Some necessary conditions may not be part of a sufficient definition.
   * Including these additional necessary conditions may cause some valid subtypes concepts (or expressions) to be omitted from the results of classification.

Section [Additional Logic Features](../2.3.3-additional-logic-features.md), identifies other useful features that are supported by description logic tools but cannot be represented using only SNOMED CT.

## Benefits of Relationships for Representing Concept Definitions

Relationships can be distributed in an easy to understand relational file structure. The relationship file has been an established part of the standard set of SNOMED CT release files since the first release in 2002, with a revision in 2011-2012 to use RF2 to enhance versioning capabilities. Relationships can be retrieved, displayed and processed using widely understood techniques such as SQL making it easy to join the relationships to the concepts to which they relate.

## Future Use of Relationships for Representing Concept Definitions

### Stated Relationships to be Deprecated

The stated view of concept definitions needs to be enhanced to allow more flexible and expressive use of description logic. The structure of the relationship file is not suitable for this and a decision has been made to adopt the OWL Functional Syntax so that new DL features can be added over time. As a result, at the end of the current transition period (during 2019), update, the stated relationship file with be deprecated.

Information about the new representation for the stated view is included in section [Concept Definitions Represented in OWL](2.3.4.2-concept-definitions-represented-in-owl.md).

{% hint style="info" %}
**Impact Assessment**

This change only impacts people who use the current stated view. Proper use of the stated view requires access to and use of a description logic classifier. Most DL classifiers require data to be provided in a OWL format, so these users typically transform from the stated relationship file to OWL prior to use. The new SNOMED CT OWL Toolkit makes it easy to prepare a full OWL file for classification from current and new distribution formats.

_Overall impact is expected to be low with significant benefits._
{% endhint %}

### Relationships Used for Inferred View Only

The current relationship file will continue to be released containing the inferred view. Due to limitations of the relationship file format, the inferred definitions will not contain the more sophisticated DL features. The relationship file:

* will only contain necessary conditions
* it will not distinguish between multiple sufficient definitions
* it will whether each necessary condition is part of any of the sufficient definitions.

Nevertheless, the end result will still be a more complete and precise than the current content of this file. The reason for this is that the inferred relationships in the file will be be generated by processing the enhanced stated view. Details of the way the inferred relationship are generated from the stated view are document in 2.5. [Generating Necessary Normal Form Relationships from the OWL Refsets](https://app.gitbook.com/s/UVgNFMSypqSsi48DpFEe/2-design-considerations-for-owl-reference-sets/2.5-generating-necessary-normal-form-relationships-from-the-owl-refsets).

{% hint style="info" %}
**Impact Assessment**

The limitation of this format should not impact the vast majority of users of this file. The inferred relationship file will continue to support subsumption testing of precoordinated concepts. The inferred relationship file, however, will no longer support the testing of subsumption of postcoordinated expressions. Accurate tests for subsumption of postcoordinated expressions will be possible using a DL classifier with the stated OWL axioms. Optimizations such as the use of preclassified expression repositories can still be used to assist run time subsumption testing.

_Overall impact is expected to be low with significant benefits._
{% endhint %}
