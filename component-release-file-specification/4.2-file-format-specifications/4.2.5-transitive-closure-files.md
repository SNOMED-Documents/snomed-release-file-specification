# Transitive Closure Files

{% hint style="info" %}
**Important Note**

<mark style="color:red;">**Transitive Closure Files are not distributed in the SNOMED CT International Release**</mark>\
The file structures documented here are points of reference for those generating transitive closure table from release data. SNOMED International provides a script file that can be used to generate the Snapshot Transitive Closure file from the snapshot Relationship File.
{% endhint %}

The Transitive Closure is the complete set of relationships between every concept and each of its super-type concepts, in other words both its parents and ancestors.

A transitive closure table is one of the most efficient ways to test for subsumption between concepts.

## Snapshot Transitive Closure File

SNOMED International provides an example of a [Transitive Closure Perl script file (click to download)](http://snomed.org/transclose) that can be used to generating a snapshot view of the transitive closure from the snapshot release of the Relationship. The output of this script conforms to the following following file structure. Note that the primary key for this table consists of both columns.

Table 4.2.5-1: Transitive Closure File - Detailed Specification

<table data-header-hidden data-full-width="true"><thead><tr><th width="117.14453125"></th><th width="105.59375"></th><th width="388.12109375"></th><th></th></tr></thead><tbody><tr><td><strong>Field</strong></td><td><strong>Data type</strong></td><td><strong>Purpose</strong></td><td><strong>Part of Primary Key</strong></td></tr><tr><td>subtypeId</td><td>SCTID</td><td>Id of the concept playing the subtype role. Set to an Identifier of a concept.</td><td><mark style="color:green;">YES</mark></td></tr><tr><td>supertypeId</td><td>SCTID</td><td>Id of the concept playing the supertype role. Set to an Identifier of a concept.</td><td><mark style="color:green;">YES</mark></td></tr></tbody></table>

## Versioned Transitive Closure

A versioned view of the Transitive Closure can also be generated by combining the snapshot views for different effective times and removing redundant rows (e.g. where the transitive closure has not changed between release versions). The generated file could then be represented using the example specification below. Note that the unique key for this file would consist of the **subtypeId**, **supertypeId** and **effectiveTime**.

Table 4.2.5-2: Versioned Transitive Closure File - Example Specification

<table data-header-hidden data-full-width="true"><thead><tr><th width="128.40234375"></th><th></th><th width="350.43359375"></th><th></th></tr></thead><tbody><tr><td><strong>Field</strong></td><td><strong>Data type</strong></td><td><strong>Purpose</strong></td><td><strong>Part of Primary Key</strong></td></tr><tr><td>subtypeId</td><td>SCTID</td><td>Id of the concept playing the subtype role. Set to an Identifier of a concept.</td><td><mark style="color:green;">YES</mark></td></tr><tr><td>supertypeId</td><td>SCTID</td><td>Id of the concept playing the supertype role. Set to an Identifier of a concept.</td><td><mark style="color:green;">YES</mark></td></tr><tr><td>effectiveTime</td><td>Time</td><td>Specifies the inclusive date at which the transitive closure record was added or changed its active state.</td><td><mark style="color:green;">YES</mark></td></tr><tr><td>active</td><td>Boolean</td><td>Specifies whether at the transitive closure represented by the subtypeId and supertypeId became valid (active) or invalid (inactive) from the point in time specified by the effectiveTime.</td><td><mark style="color:red;">NO</mark></td></tr></tbody></table>

