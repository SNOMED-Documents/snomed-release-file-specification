# Relationship File Specification

The Relationship file holds one relationship per row. Each relationship is of a particular type, and has a source concept and a destination concept.&#x20;

An example of a relationship is given below for: <mark style="color:blue;">|</mark>Outpatient procedure<mark style="color:blue;">|</mark> where:

* [371883000 | Outpatient procedure|](http://snomed.info/id/371883000) is the source concept;
* [116680003 | Is a|](http://snomed.info/id/116680003) is the relationship type concept and;
* [71388002 | Procedure|](http://snomed.info/id/71388002) is the destination concept.

<table data-header-hidden><thead><tr><th width="174.59375"></th><th width="92.27734375"></th><th></th><th width="89.046875"></th><th width="143.86328125"></th></tr></thead><tbody><tr><td><strong>Field</strong></td><td><strong>Data type</strong></td><td><strong>Purpose</strong></td><td><strong>Mutable</strong></td><td><strong>Part of Primary Key</strong></td></tr><tr><td>id</td><td>SCTID</td><td>Uniquely identifies the relationship.</td><td><mark style="color:red;">NO</mark></td><td><p><mark style="color:green;">YES</mark> </p><p>(Full/ Snapshot)</p></td></tr><tr><td>effectiveTime</td><td>Time</td><td><p>Specifies the inclusive date at which the component version's state became the then current valid state of the component.</p><p><strong>Note</strong> : In distribution files the effectiveTime should follow the short ISO date format (<em>YYYYMM DD</em>) and should not include the hours, minutes, seconds or timezone indicator.</p></td><td><mark style="color:green;">YES</mark> </td><td><p><mark style="color:green;">YES</mark>  </p><p>(Full)</p><p><mark style="color:green;">Optional</mark> (Snapshot)</p></td></tr><tr><td>active</td><td>Boolean</td><td>Specifies whether the state of the relationship was active or inactive from the nominal release date specified by the effectiveTime field.</td><td><mark style="color:green;">YES</mark></td><td><mark style="color:red;">NO</mark></td></tr><tr><td>moduleId</td><td>SCTID</td><td>Identifies the relationship version's module. Set to a child of <a href="http://snomed.info/id/900000000000443000">900000000000443000 | Module|</a> within the metadata hierarchy.</td><td><mark style="color:green;">YES</mark></td><td><mark style="color:red;">NO</mark></td></tr><tr><td>sourceId</td><td>SCTID</td><td>Identifies the source concept of the relationship version. That is the concept defined by this relationship. Set to the identifier of a concept.</td><td><mark style="color:red;">NO</mark></td><td><mark style="color:red;">NO</mark></td></tr><tr><td>destinationId</td><td>SCTID</td><td>Identifies the concept that is the destination of the relationship version.That is the concept representing the value of the attribute represented by the typeId column. Set to the identifier of a concept. Note that the values that can be applied to particular attributes are formally defined by the <a href="https://app.gitbook.com/o/h8Z6qGxuQrzM9vbx5bPT/s/wLJPOzgAQsSAYr6nhvCl/">SNOMED CT Machine Readable Concept Model</a>.</td><td><mark style="color:red;">NO</mark></td><td><mark style="color:red;">NO</mark></td></tr><tr><td>relationshipGroup</td><td>Integer</td><td>Groups together relationship versions that are part of a logically associated relationshipGroup. All active Relationship records with the same relationshipGroup number and sourceId are grouped in this way.</td><td><mark style="color:green;">YES</mark></td><td><mark style="color:red;">NO</mark></td></tr><tr><td>typeId</td><td>SCTID</td><td><p>Identifies the concept that represent the defining attribute (or relationship type) represented by this relationship version. </p><p>That is the concept representing the value of the attribute represented by the typeId column. </p><p>Set to the identifier of a concept. The concept identified must be either 116680003 <mark style="color:blue;">|</mark>Is a<mark style="color:blue;">|</mark> or a subtype of 410662002 <mark style="color:blue;">|</mark>Concept model attribute<mark style="color:blue;">|</mark> . The concepts that can be used as in the typeId column are formally defined as follows:</p></td><td><mark style="color:red;">NO</mark></td><td><mark style="color:red;">NO</mark></td></tr><tr><td><a href="https://confluence.ihtsdotools.org/display/DOCRELFMT/characteristicTypeId+(field)">characteristicTypeId</a></td><td><a href="https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+(data+type)">SCTID</a></td><td>A <a href="https://confluence.ihtsdotools.org/display/DOCGLOSS/concept">concept</a> enumeration value that identifies the characteristic type of the <a href="https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship">relationship</a> version (i.e. whether the <a href="https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship">relationship</a> version is defining, qualifying, etc.) This field is set to a <a href="https://confluence.ihtsdotools.org/display/DOCGLOSS/descendant">descendant</a> of [ 900000000000449001</td><td>Characteristic type</td><td><mark style="color:red;">NO</mark></td></tr><tr><td><a href="https://confluence.ihtsdotools.org/display/DOCRELFMT/modifierId+(field)">modifierId</a></td><td><a href="https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+(data+type)">SCTID</a></td><td>A <a href="https://confluence.ihtsdotools.org/display/DOCGLOSS/concept">concept</a> enumeration value that identifies the type of <a href="https://confluence.ihtsdotools.org/display/DOCGLOSS/Description+Logic">Description Logic</a> (DL) restriction (some, all, etc.). Set to a <a href="https://confluence.ihtsdotools.org/display/DOCGLOSS/child">child</a> of [ 900000000000450001</td><td>Modifier</td><td><mark style="color:red;">NO</mark></td></tr></tbody></table>

Only one [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship) record with the same id field will be current at any point in time. The current record will be the one with the most recent effectiveTime before or equal to the point in time under consideration.

If the [active](https://confluence.ihtsdotools.org/display/DOCGLOSS/active) field of this record is false ('0'), then the [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship) is [inactive](https://confluence.ihtsdotools.org/display/DOCGLOSS/inactive) at that point in time. If the [active](https://confluence.ihtsdotools.org/display/DOCGLOSS/active) field is true ('1'), then there is a [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship) between the [SNOMED CT concepts](https://confluence.ihtsdotools.org/display/DOCGLOSS/SNOMED+CT+concept) identified by [sourceId](https://confluence.ihtsdotools.org/display/DOCRELFMT/sourceId+\(field\)) and [destinationId](https://confluence.ihtsdotools.org/display/DOCRELFMT/destinationId+\(field\)).

The [sourceId](https://confluence.ihtsdotools.org/display/DOCRELFMT/sourceId+\(field\)), [destinationId](https://confluence.ihtsdotools.org/display/DOCRELFMT/destinationId+\(field\)), [relationshipGroup](https://confluence.ihtsdotools.org/display/DOCRELFMT/relationshipGroup+\(field\)), [typeId](https://confluence.ihtsdotools.org/display/DOCRELFMT/typeId+\(field\)), characteristicTypeIdand [modifierId](https://confluence.ihtsdotools.org/display/DOCRELFMT/modifierId+\(field\)) will not change between two rows with the same id, in other words they are immutable. Where a change is required to one of these fields, then the current row will be de-activated (by appending a row with the same id and the [active](https://confluence.ihtsdotools.org/display/DOCGLOSS/active) field set to false) and a new row with a new id will be appended.

The [relationshipGroup](https://confluence.ihtsdotools.org/display/DOCRELFMT/relationshipGroup+\(field\)) field is used to group [relationships](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship) with the same [sourceId](https://confluence.ihtsdotools.org/display/DOCRELFMT/sourceId+\(field\)) field into one or more logical sets. A [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship) with a [relationshipGroup](https://confluence.ihtsdotools.org/display/DOCRELFMT/relationshipGroup+\(field\)) field value of '0' is considered not to be grouped. All [relationships](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship) with the same [sourceId](https://confluence.ihtsdotools.org/display/DOCRELFMT/sourceId+\(field\)) and non-zero [relationshipGroup](https://confluence.ihtsdotools.org/display/DOCRELFMT/relationshipGroup+\(field\)) are considered to be logically grouped.

The [relationshipGroup](https://confluence.ihtsdotools.org/display/DOCRELFMT/relationshipGroup+\(field\)) field will be an unsigned [Integer](https://confluence.ihtsdotools.org/display/DOCRELFMT/Integer+\(data+type\)), and will not be limited to a single digit value. There is no guarantee that they will be assigned sequentially, and the values will not be unique across [concepts](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept).

## Related Links

* [SNOMED CT Machine Readable Concept Model](https://confluence.ihtsdotools.org/display/DOCMRCM/SNOMED+CT+Machine+Readable+Concept+Model).
* [Appendix C. Unicode UTF-8 encoding](../../4%20component-release-files-specification/4.2%20file-format-specifications/Appendix-C.-Unicode-UTF-8-encoding_33490103.html)
* [Relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/Relationship)
