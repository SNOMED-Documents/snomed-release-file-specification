# 4.2.3 Relationship File Specification

The [Relationship file](https://confluence.ihtsdotools.org/display/DOCRELFMT/Relationship+file "Reference term: Relationship file") holds one [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship "Glossary link: relationship") per row. Each [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship "Glossary link: relationship") is of a particular type, and has a source [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept") and a destination [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept"). An example of a [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship "Glossary link: relationship") is given below: [ 371883000 | Outpatient procedure|](http://snomed.info/id/371883000 "371883000 | Outpatient procedure |") [ 116680003 | Is a|](http://snomed.info/id/116680003 "116680003 | Is a |") [ 71388002 | Procedure|](http://snomed.info/id/71388002 "71388002 | Procedure |") where:

  * [ 371883000 | Outpatient procedure|](http://snomed.info/id/371883000 "371883000 | Outpatient procedure |") is the source [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept");

  * [ 116680003 | Is a|](http://snomed.info/id/116680003 "116680003 | Is a |") is the [relationship type](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship+type "Glossary link: relationship type") [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept") and;

  * [ 71388002 | Procedure|](http://snomed.info/id/71388002 "71388002 | Procedure |") is the destination [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept").  

  

**Field**| **Data type**| **Purpose**| **[Mutable](https://confluence.ihtsdotools.org/display/DOCGLOSS/Mutable "Glossary link: Mutable")**| **Part of Primary Key**  
---|---|---|---|---  
id| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(data type\)")| Uniquely identifies the [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship "Glossary link: relationship").| NO| YES (Full/ Snapshot)   
[effectiveTime](https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\(field\) "Reference term: effectiveTime \(field\)")| [Time](https://confluence.ihtsdotools.org/display/DOCRELFMT/Time+\(data+type\) "Reference term: Time \(data type\)")| Specifies the inclusive date at which the component version's state became the then current valid state of the component.**Note** : In distribution files the effectiveTime should follow the short ISO date format (_YYYYMM _DD__) and should not include the hours, minutes, seconds or timezone indicator.| YES| YES (Full)Optional (Snapshot)   
[active](https://confluence.ihtsdotools.org/display/DOCRELFMT/active+\(field\) "Reference term: active \(field\)")| [Boolean](https://confluence.ihtsdotools.org/display/DOCRELFMT/Boolean+\(data+type\) "Reference term: Boolean \(data type\)")| Specifies whether the state of the [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship "Glossary link: relationship") was [active](https://confluence.ihtsdotools.org/display/DOCGLOSS/active "Glossary link: active") or [inactive](https://confluence.ihtsdotools.org/display/DOCGLOSS/inactive "Glossary link: inactive") from the nominal release date specified by the [effectiveTime](https://confluence.ihtsdotools.org/display/DOCRELFMT/effectiveTime+\(field\) "Reference term: effectiveTime \(field\)") field.| YES| NO  
[moduleId](https://confluence.ihtsdotools.org/display/DOCRELFMT/moduleId+\(field\) "Reference term: moduleId \(field\)")| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(data type\)")| Identifies the [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship "Glossary link: relationship") version's module. Set to a [child](https://confluence.ihtsdotools.org/display/DOCGLOSS/child "Glossary link: child") of [ 900000000000443000 | Module|](http://snomed.info/id/900000000000443000 "900000000000443000 | Module |") within the metadata [hierarchy](https://confluence.ihtsdotools.org/display/DOCGLOSS/hierarchy "Glossary link: hierarchy").| YES| NO  
[sourceId](https://confluence.ihtsdotools.org/display/DOCRELFMT/sourceId+\(field\) "Reference term: sourceId \(field\)")| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(data type\)")| Identifies the source [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept") of the [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship "Glossary link: relationship") version. That is the [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept") defined by this [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship "Glossary link: relationship"). Set to the [identifier](https://confluence.ihtsdotools.org/display/DOCGLOSS/identifier "Glossary link: identifier") of a [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept").| NO| NO  
[destinationId](https://confluence.ihtsdotools.org/display/DOCRELFMT/destinationId+\(field\) "Reference term: destinationId \(field\)")| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(data type\)")| Identifies the [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept") that is the destination of the [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship "Glossary link: relationship") version.That is the [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept") representing the value of the attribute represented by the [typeId](https://confluence.ihtsdotools.org/display/DOCRELFMT/typeId+\(field\) "Reference term: typeId \(field\)") column.Set to the [identifier](https://confluence.ihtsdotools.org/display/DOCGLOSS/identifier "Glossary link: identifier") of a [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept").Note that the values that can be applied to particular attributes are formally defined by the [SNOMED CT Machine Readable Concept Model](https://confluence.ihtsdotools.org/display/DOCMRCM/SNOMED+CT+Machine+Readable+Concept+Model).| NO| NO  
[relationshipGroup](https://confluence.ihtsdotools.org/display/DOCRELFMT/relationshipGroup+\(field\) "Reference term: relationshipGroup \(field\)")| [Integer](https://confluence.ihtsdotools.org/display/WIPRELFMT/Integer+\(data+type\))| Groups together [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship "Glossary link: relationship") versions that are part of a logically associated [relationshipGroup](https://confluence.ihtsdotools.org/display/DOCRELFMT/relationshipGroup+\(field\) "Reference term: relationshipGroup \(field\)"). All [active](https://confluence.ihtsdotools.org/display/DOCGLOSS/active "Glossary link: active")[Relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/Relationship "Glossary link: Relationship") records with the same [relationshipGroup](https://confluence.ihtsdotools.org/display/DOCRELFMT/relationshipGroup+\(field\) "Reference term: relationshipGroup \(field\)") number and [sourceId](https://confluence.ihtsdotools.org/display/DOCRELFMT/sourceId+\(field\) "Reference term: sourceId \(field\)") are grouped in this way.| YES| NO  
[typeId](https://confluence.ihtsdotools.org/display/DOCRELFMT/typeId+\(field\) "Reference term: typeId \(field\)")| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(data type\)")| Identifies the [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept") that represent the defining attribute (or relationship type) represented by this [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship "Glossary link: relationship") version.That is the [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept") representing the value of the attribute represented by the [typeId](https://confluence.ihtsdotools.org/display/DOCRELFMT/typeId+\(field\) "Reference term: typeId \(field\)") column.Set to the [identifier](https://confluence.ihtsdotools.org/display/DOCGLOSS/identifier "Glossary link: identifier") of a [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept"). The concept identified must be either [ 116680003 | Is a|](http://snomed.info/id/116680003 "116680003 | Is a |") or a subtype of [ 410662002 | Concept model attribute|](http://snomed.info/id/410662002 "410662002 | Concept model attribute |") . The concepts that can be used as in the typeId column are formally defined as follows: [ 116680003 |is a|](http://snomed.info/id/116680003 "116680003 | is a |") OR < [ 410662002 |concept model attribute|](http://snomed.info/id/410662002 "410662002 | concept model attribute |") Note that the attributes that can be applied to particular concepts are formally defined by the [SNOMED CT Machine Readable Concept Model](https://confluence.ihtsdotools.org/display/DOCMRCM/SNOMED+CT+Machine+Readable+Concept+Model).| NO| NO  
[characteristicTypeId](https://confluence.ihtsdotools.org/display/DOCRELFMT/characteristicTypeId+\(field\) "Reference term: characteristicTypeId \(field\)")| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(data type\)")| A [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept") enumeration value that identifies the characteristic type of the [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship "Glossary link: relationship") version (i.e. whether the [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship "Glossary link: relationship") version is defining, qualifying, etc.) This field is set to a [descendant](https://confluence.ihtsdotools.org/display/DOCGLOSS/descendant "Glossary link: descendant") of [ 900000000000449001 | Characteristic type|](http://snomed.info/id/900000000000449001 "900000000000449001 | Characteristic type |") in the metadata [hierarchy](https://confluence.ihtsdotools.org/display/DOCGLOSS/hierarchy "Glossary link: hierarchy").| YES| NO  
[modifierId](https://confluence.ihtsdotools.org/display/DOCRELFMT/modifierId+\(field\) "Reference term: modifierId \(field\)")| [SCTID](https://confluence.ihtsdotools.org/display/DOCRELFMT/SCTID+\(data+type\) "Reference term: SCTID \(data type\)")| A [concept](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concept") enumeration value that identifies the type of [Description Logic](https://confluence.ihtsdotools.org/display/DOCGLOSS/Description+Logic "Glossary link: Description Logic") (DL) restriction (some, all, etc.). Set to a [child](https://confluence.ihtsdotools.org/display/DOCGLOSS/child "Glossary link: child") of  [ 900000000000450001 | Modifier|](http://snomed.info/id/900000000000450001 "900000000000450001 | Modifier |") in the metadata [hierarchy](https://confluence.ihtsdotools.org/display/DOCGLOSS/hierarchy "Glossary link: hierarchy").| YES| NO  
  
Only one [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship "Glossary link: relationship") record with the same id field will be current at any point in time. The current record will be the one with the most recent effectiveTime before or equal to the point in time under consideration.

If the [active](https://confluence.ihtsdotools.org/display/DOCGLOSS/active "Glossary link: active") field of this record is false ('0'), then the [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship "Glossary link: relationship") is [inactive](https://confluence.ihtsdotools.org/display/DOCGLOSS/inactive "Glossary link: inactive") at that point in time. If the [active](https://confluence.ihtsdotools.org/display/DOCGLOSS/active "Glossary link: active") field is true ('1'), then there is a [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship "Glossary link: relationship") between the [SNOMED CT concepts](https://confluence.ihtsdotools.org/display/DOCGLOSS/SNOMED+CT+concept "Glossary link: SNOMED CT concepts") identified by [sourceId](https://confluence.ihtsdotools.org/display/DOCRELFMT/sourceId+\(field\) "Reference term: sourceId \(field\)") and [destinationId](https://confluence.ihtsdotools.org/display/DOCRELFMT/destinationId+\(field\) "Reference term: destinationId \(field\)").

The [sourceId](https://confluence.ihtsdotools.org/display/DOCRELFMT/sourceId+\(field\) "Reference term: sourceId \(field\)"), [destinationId](https://confluence.ihtsdotools.org/display/DOCRELFMT/destinationId+\(field\) "Reference term: destinationId \(field\)"), [relationshipGroup](https://confluence.ihtsdotools.org/display/DOCRELFMT/relationshipGroup+\(field\) "Reference term: relationshipGroup \(field\)"), [typeId](https://confluence.ihtsdotools.org/display/DOCRELFMT/typeId+\(field\) "Reference term: typeId \(field\)"), characteristicTypeIdand [modifierId](https://confluence.ihtsdotools.org/display/DOCRELFMT/modifierId+\(field\) "Reference term: modifierId \(field\)") will not change between two rows with the same id, in other words they are immutable. Where a change is required to one of these fields, then the current row will be de-activated (by appending a row with the same id and the [active](https://confluence.ihtsdotools.org/display/DOCGLOSS/active "Glossary link: active") field set to false) and a new row with a new id will be appended.

The [relationshipGroup](https://confluence.ihtsdotools.org/display/DOCRELFMT/relationshipGroup+\(field\) "Reference term: relationshipGroup \(field\)") field is used to group [relationships](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship "Glossary link: relationships") with the same [sourceId](https://confluence.ihtsdotools.org/display/DOCRELFMT/sourceId+\(field\) "Reference term: sourceId \(field\)") field into one or more logical sets. A [relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship "Glossary link: relationship") with a [relationshipGroup](https://confluence.ihtsdotools.org/display/DOCRELFMT/relationshipGroup+\(field\) "Reference term: relationshipGroup \(field\)") field value of '0' is considered not to be grouped. All [relationships](https://confluence.ihtsdotools.org/display/DOCGLOSS/relationship "Glossary link: relationships") with the same [sourceId](https://confluence.ihtsdotools.org/display/DOCRELFMT/sourceId+\(field\) "Reference term: sourceId \(field\)") and non-zero [relationshipGroup](https://confluence.ihtsdotools.org/display/DOCRELFMT/relationshipGroup+\(field\) "Reference term: relationshipGroup \(field\)") are considered to be logically grouped.

The [relationshipGroup](https://confluence.ihtsdotools.org/display/DOCRELFMT/relationshipGroup+\(field\) "Reference term: relationshipGroup \(field\)") field will be an unsigned [Integer](https://confluence.ihtsdotools.org/display/DOCRELFMT/Integer+\(data+type\) "Reference term: Integer \(data type\)"), and will not be limited to a single digit value. There is no guarantee that they will be assigned sequentially, and the values will not be unique across [concepts](https://confluence.ihtsdotools.org/display/DOCGLOSS/concept "Glossary link: concepts").

# Related Links

  * [SNOMED CT Machine Readable Concept Model](https://confluence.ihtsdotools.org/display/DOCMRCM/SNOMED+CT+Machine+Readable+Concept+Model).
  * [Appendix C. Unicode UTF-8 encoding](Appendix-C.-Unicode-UTF-8-encoding_33490103.html)
  * [Relationship](https://confluence.ihtsdotools.org/display/DOCGLOSS/Relationship "Glossary link: Relationship")

